<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.55">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>14&nbsp; Tidyverse – Data Analysis Tools</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./r_data_visualization.html" rel="next">
<link href="./r_operators.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./r_programming.html">R</a></li><li class="breadcrumb-item"><a href="./r_tidyverse.html"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Tidyverse</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Analysis Tools</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Home</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./sql_programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql_creating_database.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Creating Database</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql_statement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Query Statement</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql_text_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Working with Text</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql_date_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Working with Date</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql_data_cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data Cleaning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql_group_windows_function.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Grouping Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql_join.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Joins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql_sub_queries_cte.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Subquery &amp; CTE</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sql_project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Project</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./r_programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Basics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_data_structure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Data Structure</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_operators.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Operators</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_tidyverse.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Tidyverse</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_data_visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_exploratory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">EDA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r_data_cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Data Cleaning</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./python_programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./python_data_types.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Processing…</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./powerbi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Power BI</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./powerbi_data_import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Processing…</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tool_source.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Data Tool Referenece</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#install-tidyverse-meta-package" id="toc-install-tidyverse-meta-package" class="nav-link active" data-scroll-target="#install-tidyverse-meta-package"><span class="header-section-number">14.1</span> Install tidyverse meta package</a></li>
  <li><a href="#importing-data" id="toc-importing-data" class="nav-link" data-scroll-target="#importing-data"><span class="header-section-number">14.2</span> Importing Data</a>
  <ul class="collapse">
  <li><a href="#csv-file" id="toc-csv-file" class="nav-link" data-scroll-target="#csv-file"><span class="header-section-number">14.2.1</span> .CSV file</a></li>
  <li><a href="#xlsx-file" id="toc-xlsx-file" class="nav-link" data-scroll-target="#xlsx-file"><span class="header-section-number">14.2.2</span> .xlsx file</a></li>
  </ul></li>
  <li><a href="#dplyr" id="toc-dplyr" class="nav-link" data-scroll-target="#dplyr"><span class="header-section-number">14.3</span> {dplyr}</a>
  <ul class="collapse">
  <li><a href="#selecting-columns" id="toc-selecting-columns" class="nav-link" data-scroll-target="#selecting-columns"><span class="header-section-number">14.3.1</span> Selecting columns</a></li>
  <li><a href="#renaming-columns" id="toc-renaming-columns" class="nav-link" data-scroll-target="#renaming-columns"><span class="header-section-number">14.3.2</span> Renaming columns</a></li>
  <li><a href="#reorder-columns" id="toc-reorder-columns" class="nav-link" data-scroll-target="#reorder-columns"><span class="header-section-number">14.3.3</span> Reorder columns</a></li>
  <li><a href="#filter-records" id="toc-filter-records" class="nav-link" data-scroll-target="#filter-records"><span class="header-section-number">14.3.4</span> Filter records</a></li>
  <li><a href="#create-modify-and-delete-columns" id="toc-create-modify-and-delete-columns" class="nav-link" data-scroll-target="#create-modify-and-delete-columns"><span class="header-section-number">14.3.5</span> Create, modify and delete columns</a></li>
  <li><a href="#summarise-records" id="toc-summarise-records" class="nav-link" data-scroll-target="#summarise-records"><span class="header-section-number">14.3.6</span> Summarise records</a></li>
  <li><a href="#grouped-data" id="toc-grouped-data" class="nav-link" data-scroll-target="#grouped-data"><span class="header-section-number">14.3.7</span> Grouped data</a></li>
  <li><a href="#sort-records" id="toc-sort-records" class="nav-link" data-scroll-target="#sort-records"><span class="header-section-number">14.3.8</span> Sort records</a></li>
  <li><a href="#joins" id="toc-joins" class="nav-link" data-scroll-target="#joins"><span class="header-section-number">14.3.9</span> Joins</a></li>
  <li><a href="#bind-row-column" id="toc-bind-row-column" class="nav-link" data-scroll-target="#bind-row-column"><span class="header-section-number">14.3.10</span> Bind row &amp; column</a></li>
  </ul></li>
  <li><a href="#stringr" id="toc-stringr" class="nav-link" data-scroll-target="#stringr"><span class="header-section-number">14.4</span> {stringr}</a>
  <ul class="collapse">
  <li><a href="#string-length" id="toc-string-length" class="nav-link" data-scroll-target="#string-length"><span class="header-section-number">14.4.1</span> String length</a></li>
  <li><a href="#case-format" id="toc-case-format" class="nav-link" data-scroll-target="#case-format"><span class="header-section-number">14.4.2</span> Case format</a></li>
  <li><a href="#detect-the-presence-of-a-match" id="toc-detect-the-presence-of-a-match" class="nav-link" data-scroll-target="#detect-the-presence-of-a-match"><span class="header-section-number">14.4.3</span> Detect the presence of a match</a></li>
  <li><a href="#subset-string" id="toc-subset-string" class="nav-link" data-scroll-target="#subset-string"><span class="header-section-number">14.4.4</span> Subset string</a></li>
  <li><a href="#extract-a-match" id="toc-extract-a-match" class="nav-link" data-scroll-target="#extract-a-match"><span class="header-section-number">14.4.5</span> Extract a match</a></li>
  <li><a href="#interpolating-strings" id="toc-interpolating-strings" class="nav-link" data-scroll-target="#interpolating-strings"><span class="header-section-number">14.4.6</span> Interpolating strings</a></li>
  <li><a href="#remove-matched-patterns-from-string" id="toc-remove-matched-patterns-from-string" class="nav-link" data-scroll-target="#remove-matched-patterns-from-string"><span class="header-section-number">14.4.7</span> Remove matched patterns from string</a></li>
  <li><a href="#replace-matches-with-a-new-string" id="toc-replace-matches-with-a-new-string" class="nav-link" data-scroll-target="#replace-matches-with-a-new-string"><span class="header-section-number">14.4.8</span> Replace matches with a new string</a></li>
  <li><a href="#split-string-into-serveral-part" id="toc-split-string-into-serveral-part" class="nav-link" data-scroll-target="#split-string-into-serveral-part"><span class="header-section-number">14.4.9</span> Split string into serveral part</a></li>
  <li><a href="#remove-whitespace" id="toc-remove-whitespace" class="nav-link" data-scroll-target="#remove-whitespace"><span class="header-section-number">14.4.10</span> Remove whitespace</a></li>
  </ul></li>
  <li><a href="#tidyr" id="toc-tidyr" class="nav-link" data-scroll-target="#tidyr"><span class="header-section-number">14.5</span> {tidyr}</a>
  <ul class="collapse">
  <li><a href="#drop-rows-containing-missing-values" id="toc-drop-rows-containing-missing-values" class="nav-link" data-scroll-target="#drop-rows-containing-missing-values"><span class="header-section-number">14.5.1</span> Drop rows containing missing values</a></li>
  <li><a href="#reshaping-data" id="toc-reshaping-data" class="nav-link" data-scroll-target="#reshaping-data"><span class="header-section-number">14.5.2</span> Reshaping data</a></li>
  <li><a href="#separate-character-column-values" id="toc-separate-character-column-values" class="nav-link" data-scroll-target="#separate-character-column-values"><span class="header-section-number">14.5.3</span> Separate character column values</a></li>
  <li><a href="#unite-multiple-columns-into-sigle-column" id="toc-unite-multiple-columns-into-sigle-column" class="nav-link" data-scroll-target="#unite-multiple-columns-into-sigle-column">Unite multiple columns into sigle column</a></li>
  </ul></li>
  <li><a href="#purrr" id="toc-purrr" class="nav-link" data-scroll-target="#purrr"><span class="header-section-number">14.6</span> {purrr}</a>
  <ul class="collapse">
  <li><a href="#other-variants-of-map" id="toc-other-variants-of-map" class="nav-link" data-scroll-target="#other-variants-of-map"><span class="header-section-number">14.6.1</span> Other variants of map()</a></li>
  <li><a href="#list-manipulation" id="toc-list-manipulation" class="nav-link" data-scroll-target="#list-manipulation"><span class="header-section-number">14.6.2</span> list manipulation</a></li>
  </ul></li>
  <li><a href="#lubridate" id="toc-lubridate" class="nav-link" data-scroll-target="#lubridate"><span class="header-section-number">14.7</span> {lubridate}</a>
  <ul class="collapse">
  <li><a href="#parsing-dates" id="toc-parsing-dates" class="nav-link" data-scroll-target="#parsing-dates"><span class="header-section-number">14.7.1</span> Parsing dates</a></li>
  <li><a href="#parsing-time" id="toc-parsing-time" class="nav-link" data-scroll-target="#parsing-time"><span class="header-section-number">14.7.2</span> Parsing time</a></li>
  <li><a href="#parsing-to-datetime" id="toc-parsing-to-datetime" class="nav-link" data-scroll-target="#parsing-to-datetime"><span class="header-section-number">14.7.3</span> Parsing to datetime</a></li>
  <li><a href="#extracting-components-of-a-date" id="toc-extracting-components-of-a-date" class="nav-link" data-scroll-target="#extracting-components-of-a-date"><span class="header-section-number">14.7.4</span> Extracting components of a date</a></li>
  <li><a href="#manipulating-dates" id="toc-manipulating-dates" class="nav-link" data-scroll-target="#manipulating-dates"><span class="header-section-number">14.7.5</span> Manipulating dates</a></li>
  <li><a href="#date-comparisons" id="toc-date-comparisons" class="nav-link" data-scroll-target="#date-comparisons"><span class="header-section-number">14.7.6</span> Date comparisons</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./r_programming.html">R</a></li><li class="breadcrumb-item"><a href="./r_tidyverse.html"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Tidyverse</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Tidyverse</span></h1>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<section id="install-tidyverse-meta-package" class="level2" data-number="14.1">
<h2 data-number="14.1" class="anchored" data-anchor-id="install-tidyverse-meta-package"><span class="header-section-number">14.1</span> Install tidyverse meta package</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Packages in the tidyverse
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li><strong>readr</strong>: For reading and writing data in R.</li>
<li><strong>dplyr</strong>: Allows users to manipulate, transform and summarize tabular data.</li>
<li><strong>tidyr</strong>: Focuses on tidying data by reshaping it into a format suitable for analysis.</li>
<li><strong>stringr</strong>: Provides a cohesive set of functions for string manipulation</li>
<li><strong>purrr</strong>: Provides functional programming capabilities by providing tools for working with lists and vectors.</li>
<li><strong>lubridate</strong>: Simplifies date-time manipulation.</li>
<li><strong>ggplot2</strong>: For creating static graphics based on the <em>Grammar of Graphics</em> framework.</li>
<li><strong>forcats</strong>: Designed specifically for working with categorical variables (factors).</li>
</ul>
</div>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-1"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1">1</button><span id="annotated-cell-1-1" class="code-annotation-target"><a href="#annotated-cell-1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span>
<span id="annotated-cell-1-2"><a href="#annotated-cell-1-2" aria-hidden="true" tabindex="-1"></a> </span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="2">2</button><span id="annotated-cell-1-3" class="code-annotation-target"><a href="#annotated-cell-1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="1" data-code-annotation="1">Install the tidyverse Meta package</span>
</dd>
<dt data-target-cell="annotated-cell-1" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="3" data-code-annotation="2">Load all the packages in the tidyverse</span>
</dd>
</dl>
</div>
</div>
</section>
<section id="importing-data" class="level2" data-number="14.2">
<h2 data-number="14.2" class="anchored" data-anchor-id="importing-data"><span class="header-section-number">14.2</span> Importing Data</h2>
<p>R provides functions to import data from various formats, such as CSV, TSV, and fixed-width files.</p>
<section id="csv-file" class="level3" data-number="14.2.1">
<h3 data-number="14.2.1" class="anchored" data-anchor-id="csv-file"><span class="header-section-number">14.2.1</span> .CSV file</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Base R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">{readr}</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-138"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-138" data-target-annotation="1">1</button><span id="annotated-cell-138-1" class="code-annotation-target"><a href="#annotated-cell-138-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"path/to/data.csv"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-138" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-138" data-code-lines="1" data-code-annotation="1">Import a csv file as a data frame using the <code>read.csv()</code> from the specified path</span>
</dd>
</dl>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-139"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-139" data-target-annotation="1">1</button><span id="annotated-cell-139-1" class="code-annotation-target"><a href="#annotated-cell-139-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"path/to/data.csv"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-139" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-139" data-code-lines="1" data-code-annotation="1">Import a csv file as a data frame using the <code>read_csv()</code> from the specified path</span>
</dd>
</dl>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Path to the data
</div>
</div>
<div class="callout-body-container callout-body">
<p>Understanding how to specify paths for local files and internet resources is crucial for effective data handling.</p>
<ul>
<li><p>Local file paths: Importing data from a local file involves specifying the path to the file on your computer.</p></li>
<li><p>Internet file paths: Importing data from the internet requires a URL pointing directly to a CSV file.</p></li>
</ul>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-140"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-140-1"><a href="#annotated-cell-140-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-140" data-target-annotation="1">1</button><span id="annotated-cell-140-2" class="code-annotation-target"><a href="#annotated-cell-140-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">file =</span> <span class="st">"path/to/data.csv"</span>,</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-140" data-target-annotation="2">2</button><span id="annotated-cell-140-3" class="code-annotation-target"><a href="#annotated-cell-140-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_names =</span> <span class="fu">c</span>(<span class="st">"column1"</span>, <span class="st">"column2"</span>, <span class="st">"column3"</span>, <span class="st">"column4"</span>),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-140" data-target-annotation="3">3</button><span id="annotated-cell-140-4" class="code-annotation-target"><a href="#annotated-cell-140-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="fu">cols</span>(</span>
<span id="annotated-cell-140-5"><a href="#annotated-cell-140-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">column1 =</span> <span class="fu">col_double</span>(),</span>
<span id="annotated-cell-140-6"><a href="#annotated-cell-140-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">column2 =</span> <span class="fu">col_double</span>(),</span>
<span id="annotated-cell-140-7"><a href="#annotated-cell-140-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">column3 =</span> <span class="fu">col_date</span>(),</span>
<span id="annotated-cell-140-8"><a href="#annotated-cell-140-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">column4 =</span> <span class="fu">col_character</span>()</span>
<span id="annotated-cell-140-9"><a href="#annotated-cell-140-9" aria-hidden="true" tabindex="-1"></a>  ),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-140" data-target-annotation="4">4</button><span id="annotated-cell-140-10" class="code-annotation-target"><a href="#annotated-cell-140-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_select =</span> <span class="fu">c</span>(column1, column2, column3, column4),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-140" data-target-annotation="5">5</button><span id="annotated-cell-140-11" class="code-annotation-target"><a href="#annotated-cell-140-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">na =</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">"--"</span>, <span class="st">"-/-"</span>, <span class="st">"NA"</span>),</span>
<span id="annotated-cell-140-12"><a href="#annotated-cell-140-12" aria-hidden="true" tabindex="-1"></a>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-140" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-140" data-code-lines="2" data-code-annotation="1">Specifies the path to the CSV file that you want to import.</span>
</dd>
<dt data-target-cell="annotated-cell-140" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-140" data-code-lines="3" data-code-annotation="2">Manually specify the names of the columns in your dataset.</span>
</dd>
<dt data-target-cell="annotated-cell-140" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-140" data-code-lines="4,5,6,7,8" data-code-annotation="3">Defines how each column in your dataset should be interpreted based on its data type.</span>
</dd>
<dt data-target-cell="annotated-cell-140" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-140" data-code-lines="10" data-code-annotation="4">Select which columns to import from the CSV file.</span>
</dd>
<dt data-target-cell="annotated-cell-140" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-140" data-code-lines="11" data-code-annotation="5">Specifies what strings should be interpreted as missing values (NA) when importing data.</span>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="xlsx-file" class="level3" data-number="14.2.2">
<h3 data-number="14.2.2" class="anchored" data-anchor-id="xlsx-file"><span class="header-section-number">14.2.2</span> .xlsx file</h3>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-2"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="1">1</button><span id="annotated-cell-2-1" class="code-annotation-target"><a href="#annotated-cell-2-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"path/to/data.csv"</span>, <span class="at">sheet =</span> <span class="st">"sheet 1"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-2" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="1" data-code-annotation="1">Read the data in the worksheet from the provided path, and from the sheet name: ‘sheet 1’</span>
</dd>
</dl>
</div>
</div>
</section>
</section>
<section id="dplyr" class="level2" data-number="14.3">
<h2 data-number="14.3" class="anchored" data-anchor-id="dplyr"><span class="header-section-number">14.3</span> {dplyr}</h2>
<section id="selecting-columns" class="level3" data-number="14.3.1">
<h3 data-number="14.3.1" class="anchored" data-anchor-id="selecting-columns"><span class="header-section-number">14.3.1</span> Selecting columns</h3>
<p>To select specific columns from a data frame you can use the <code>select()</code> function. It extracts one or more columns, keeping only the columns you specify.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic syntax</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(data, colum1, ....)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><strong>Example:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-4"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="1">1</button><span id="annotated-cell-4-1" class="code-annotation-target"><a href="#annotated-cell-4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(starwars, name, height, mass, hair_color)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-4" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-4" data-code-lines="1" data-code-annotation="1">Select the first three columns by name.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 4
   name               height  mass hair_color   
   &lt;chr&gt;               &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;        
 1 Luke Skywalker        172    77 blond        
 2 C-3PO                 167    75 &lt;NA&gt;         
 3 R2-D2                  96    32 &lt;NA&gt;         
 4 Darth Vader           202   136 none         
 5 Leia Organa           150    49 brown        
 6 Owen Lars             178   120 brown, grey  
 7 Beru Whitesun Lars    165    75 brown        
 8 R5-D4                  97    32 &lt;NA&gt;         
 9 Biggs Darklighter     183    84 black        
10 Obi-Wan Kenobi        182    77 auburn, white
# ℹ 77 more rows</code></pre>
</div>
</div>
<ul>
<li>Using the <strong>:</strong> for selecting a range of consecutive variables.</li>
</ul>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-5"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="1">1</button><span id="annotated-cell-5-1" class="code-annotation-target"><a href="#annotated-cell-5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(starwars, name<span class="sc">:</span>hair_color)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-5" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-lines="1" data-code-annotation="1">select the first three columns using the <strong>:</strong> operator.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 4
   name               height  mass hair_color   
   &lt;chr&gt;               &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;        
 1 Luke Skywalker        172    77 blond        
 2 C-3PO                 167    75 &lt;NA&gt;         
 3 R2-D2                  96    32 &lt;NA&gt;         
 4 Darth Vader           202   136 none         
 5 Leia Organa           150    49 brown        
 6 Owen Lars             178   120 brown, grey  
 7 Beru Whitesun Lars    165    75 brown        
 8 R5-D4                  97    32 &lt;NA&gt;         
 9 Biggs Darklighter     183    84 black        
10 Obi-Wan Kenobi        182    77 auburn, white
# ℹ 77 more rows</code></pre>
</div>
</div>
<ul>
<li>Using the <strong>!</strong> for taking the complement of a set of variables.</li>
</ul>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-6"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-6" data-target-annotation="1">1</button><span id="annotated-cell-6-1" class="code-annotation-target"><a href="#annotated-cell-6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(starwars, <span class="sc">!</span>name)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-6" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-6" data-code-lines="1" data-code-annotation="1">select all columns except the <code>name</code> column</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 13
   height  mass hair_color    skin_color  eye_color birth_year sex    gender   
    &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;    
 1    172    77 blond         fair        blue            19   male   masculine
 2    167    75 &lt;NA&gt;          gold        yellow         112   none   masculine
 3     96    32 &lt;NA&gt;          white, blue red             33   none   masculine
 4    202   136 none          white       yellow          41.9 male   masculine
 5    150    49 brown         light       brown           19   female feminine 
 6    178   120 brown, grey   light       blue            52   male   masculine
 7    165    75 brown         light       blue            47   female feminine 
 8     97    32 &lt;NA&gt;          white, red  red             NA   none   masculine
 9    183    84 black         light       brown           24   male   masculine
10    182    77 auburn, white fair        blue-gray       57   male   masculine
# ℹ 77 more rows
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<ul>
<li>Using the <strong>c()</strong> for combining selections.</li>
</ul>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-7"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="1">1</button><span id="annotated-cell-7-1" class="code-annotation-target"><a href="#annotated-cell-7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(starwars, <span class="fu">c</span>(name, mass, eye_color))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-7" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-7" data-code-lines="1" data-code-annotation="1">Select a vector of names. specifically useful when picking multiple columns from different column position.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 3
   name                mass eye_color
   &lt;chr&gt;              &lt;dbl&gt; &lt;chr&gt;    
 1 Luke Skywalker        77 blue     
 2 C-3PO                 75 yellow   
 3 R2-D2                 32 red      
 4 Darth Vader          136 yellow   
 5 Leia Organa           49 brown    
 6 Owen Lars            120 blue     
 7 Beru Whitesun Lars    75 blue     
 8 R5-D4                 32 red      
 9 Biggs Darklighter     84 brown    
10 Obi-Wan Kenobi        77 blue-gray
# ℹ 77 more rows</code></pre>
</div>
</div>
<section id="everything" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="everything">everything()</h4>
<p>This is a selection helper primarily used for selecting all variables from a data frame or tibble.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(starwars, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke Sk…    172    77 blond      fair       blue            19   male  mascu…
 2 C-3PO       167    75 &lt;NA&gt;       gold       yellow         112   none  mascu…
 3 R2-D2        96    32 &lt;NA&gt;       white, bl… red             33   none  mascu…
 4 Darth V…    202   136 none       white      yellow          41.9 male  mascu…
 5 Leia Or…    150    49 brown      light      brown           19   fema… femin…
 6 Owen La…    178   120 brown, gr… light      blue            52   male  mascu…
 7 Beru Wh…    165    75 brown      light      blue            47   fema… femin…
 8 R5-D4        97    32 &lt;NA&gt;       white, red red             NA   none  mascu…
 9 Biggs D…    183    84 black      light      brown           24   male  mascu…
10 Obi-Wan…    182    77 auburn, w… fair       blue-gray       57   male  mascu…
# ℹ 77 more rows
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="start_with" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="start_with">start_with()</h4>
<p>This is a selection helper function that allows users to select variables from a data frame whose names begin with a specified prefix. It is particularly useful for tasks where you want to focus on specific groups of variables without having to manually specify each one.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-9"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-9" data-target-annotation="1">1</button><span id="annotated-cell-9-1" class="code-annotation-target"><a href="#annotated-cell-9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris, <span class="at">n =</span> <span class="dv">3</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-9" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-9" data-code-lines="1" data-code-annotation="1">Retrieve the first 3 rows from the <code>iris</code> data.frame</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-10"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="1">1</button><span id="annotated-cell-10-1" class="code-annotation-target"><a href="#annotated-cell-10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(iris, <span class="fu">starts_with</span>(<span class="st">"Sepal"</span>)) <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">5</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-10" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-10" data-code-lines="1" data-code-annotation="1">Select all columns that start with the “Sepal” value.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sepal.Length Sepal.Width
1          5.1         3.5
2          4.9         3.0
3          4.7         3.2
4          4.6         3.1
5          5.0         3.6</code></pre>
</div>
</div>
<p><strong>Multiple matches:</strong></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-11"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-11" data-target-annotation="1">1</button><span id="annotated-cell-11-1" class="code-annotation-target"><a href="#annotated-cell-11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(iris, <span class="fu">starts_with</span>(<span class="fu">c</span>(<span class="st">"Petal"</span>, <span class="st">"Sepal"</span>))) <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">5</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-11" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-11" data-code-lines="1" data-code-annotation="1">Select all columns that start with the “Petal” and “Sepal” values.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  Petal.Length Petal.Width Sepal.Length Sepal.Width
1          1.4         0.2          5.1         3.5
2          1.4         0.2          4.9         3.0
3          1.3         0.2          4.7         3.2
4          1.5         0.2          4.6         3.1
5          1.4         0.2          5.0         3.6</code></pre>
</div>
</div>
</section>
<section id="ends_with" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="ends_with">ends_with()</h4>
<p>This function allows users to select variables (columns) from a data frame based on whether their names end with a specified suffix. The primary purpose of of the <code>ends_with()</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-12"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="1">1</button><span id="annotated-cell-12-1" class="code-annotation-target"><a href="#annotated-cell-12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(starwars, <span class="fu">ends_with</span>(<span class="st">"color"</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-12" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="1" data-code-annotation="1">Select all columns that ends with the value “color”.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 3
   hair_color    skin_color  eye_color
   &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;    
 1 blond         fair        blue     
 2 &lt;NA&gt;          gold        yellow   
 3 &lt;NA&gt;          white, blue red      
 4 none          white       yellow   
 5 brown         light       brown    
 6 brown, grey   light       blue     
 7 brown         light       blue     
 8 &lt;NA&gt;          white, red  red      
 9 black         light       brown    
10 auburn, white fair        blue-gray
# ℹ 77 more rows</code></pre>
</div>
</div>
</section>
<section id="contains" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="contains">contains()</h4>
<p>This function allows users to select variables from a data frame based on whether their names contain a specific substring.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-13"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="1">1</button><span id="annotated-cell-13-1" class="code-annotation-target"><a href="#annotated-cell-13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(starwars, <span class="fu">contains</span>(<span class="st">"color"</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-13" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-13" data-code-lines="1" data-code-annotation="1">Select all columns that have the value “color”.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 3
   hair_color    skin_color  eye_color
   &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;    
 1 blond         fair        blue     
 2 &lt;NA&gt;          gold        yellow   
 3 &lt;NA&gt;          white, blue red      
 4 none          white       yellow   
 5 brown         light       brown    
 6 brown, grey   light       blue     
 7 brown         light       blue     
 8 &lt;NA&gt;          white, red  red      
 9 black         light       brown    
10 auburn, white fair        blue-gray
# ℹ 77 more rows</code></pre>
</div>
</div>
</section>
<section id="all_of" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="all_of">all_of()</h4>
<p>This function is specifically designed to facilitate the selection of variables from data frames using character vectors and it is particularly useful when you want to ensure that all specified variables are present in the data frame.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-14"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="1">1</button><span id="annotated-cell-14-1" class="code-annotation-target"><a href="#annotated-cell-14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(starwars, <span class="fu">all_of</span>(<span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"height"</span>, <span class="st">"mass"</span>)))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-14" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="1" data-code-annotation="1">Select the <code>name</code>, <code>height</code>, and <code>mass</code> variables</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 3
   name               height  mass
   &lt;chr&gt;               &lt;int&gt; &lt;dbl&gt;
 1 Luke Skywalker        172    77
 2 C-3PO                 167    75
 3 R2-D2                  96    32
 4 Darth Vader           202   136
 5 Leia Organa           150    49
 6 Owen Lars             178   120
 7 Beru Whitesun Lars    165    75
 8 R5-D4                  97    32
 9 Biggs Darklighter     183    84
10 Obi-Wan Kenobi        182    77
# ℹ 77 more rows</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Strict selection
</div>
</div>
<div class="callout-body-container callout-body">
<p>The primary characteristic of <code>all_of()</code> is that it performs strict selection. <strong>This means that if any variable specified in the character vector does not exist in the data frame, an error will be thrown</strong>. This feature ensures that users are aware of any missing variables.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-154"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-154" data-target-annotation="1">1</button><span id="annotated-cell-154-1" class="code-annotation-target"><a href="#annotated-cell-154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(starwars, <span class="fu">all_of</span>(<span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"height"</span>, <span class="st">"mass"</span>, <span class="st">"max"</span>)))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-154" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-154" data-code-lines="1" data-code-annotation="1">The <code>max</code> value is not a valid column name in the starwars table.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error in `all_of()`:
! Can't subset columns that don't exist.
✖ Column `max` doesn't exist.</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="any_of" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="any_of">any_of()</h4>
<p>This function is particularly useful when you want to select variables from a data frame based on a character vector of variable names. The key feature of <code>any_of()</code> is its leniency regarding missing variables.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-15"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="1">1</button><span id="annotated-cell-15-1" class="code-annotation-target"><a href="#annotated-cell-15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(starwars, <span class="fu">any_of</span>(<span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"height"</span>, <span class="st">"mass"</span>, <span class="st">"max"</span>)))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-15" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-15" data-code-lines="1" data-code-annotation="1">Ignores the <code>max</code> column name which does not exist in the table.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 3
   name               height  mass
   &lt;chr&gt;               &lt;int&gt; &lt;dbl&gt;
 1 Luke Skywalker        172    77
 2 C-3PO                 167    75
 3 R2-D2                  96    32
 4 Darth Vader           202   136
 5 Leia Organa           150    49
 6 Owen Lars             178   120
 7 Beru Whitesun Lars    165    75
 8 R5-D4                  97    32
 9 Biggs Darklighter     183    84
10 Obi-Wan Kenobi        182    77
# ℹ 77 more rows</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Ignores non-existent column names
</div>
</div>
<div class="callout-body-container callout-body">
<p>If any of the specified variable names do not exist in the data frame, any_of() will simply ignore those names without throwing an error.</p>
</div>
</div>
</section>
<section id="where" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="where">where()</h4>
<p>This function allows users to select columns from a data frame based on a predicate function that returns either <code>TRUE</code> or <code>FALSE</code>. The predicate function can be any custom function defined by the user or built-in functions such as <code>is.numeric</code>, <code>is.factor</code>, etc.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-16"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-16" data-target-annotation="1">1</button><span id="annotated-cell-16-1" class="code-annotation-target"><a href="#annotated-cell-16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(starwars, <span class="fu">where</span>(is.numeric))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-16" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-16" data-code-lines="1" data-code-annotation="1">Select only numeric columns</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 3
   height  mass birth_year
    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;
 1    172    77       19  
 2    167    75      112  
 3     96    32       33  
 4    202   136       41.9
 5    150    49       19  
 6    178   120       52  
 7    165    75       47  
 8     97    32       NA  
 9    183    84       24  
10    182    77       57  
# ℹ 77 more rows</code></pre>
</div>
</div>
<p>OR using a full lambda function</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(starwars, <span class="fu">where</span>(\(x) <span class="fu">is.numeric</span>(x)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 3
   height  mass birth_year
    &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt;
 1    172    77       19  
 2    167    75      112  
 3     96    32       33  
 4    202   136       41.9
 5    150    49       19  
 6    178   120       52  
 7    165    75       47  
 8     97    32       NA  
 9    183    84       24  
10    182    77       57  
# ℹ 77 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-18"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="1">1</button><span id="annotated-cell-18-1" class="code-annotation-target"><a href="#annotated-cell-18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(mtcars, <span class="fu">where</span>(\(x) <span class="fu">mean</span>(x) <span class="sc">&gt;</span> <span class="dv">100</span>)) <span class="sc">|&gt;</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-18" data-target-annotation="2">2</button><span id="annotated-cell-18-2" class="code-annotation-target"><a href="#annotated-cell-18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-18" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="1" data-code-annotation="1">Select all numeric columns where the average value is greater than 100.</span>
</dd>
<dt data-target-cell="annotated-cell-18" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-18" data-code-lines="2" data-code-annotation="2">convert the data frame to a tibble.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 32 × 2
    disp    hp
   &lt;dbl&gt; &lt;dbl&gt;
 1  160    110
 2  160    110
 3  108     93
 4  258    110
 5  360    175
 6  225    105
 7  360    245
 8  147.    62
 9  141.    95
10  168.   123
# ℹ 22 more rows</code></pre>
</div>
</div>
<p><br></p>
</section>
<section id="combining-selection-helpers" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="combining-selection-helpers">Combining selection helpers</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-19"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-19" data-target-annotation="1">1</button><span id="annotated-cell-19-1" class="code-annotation-target"><a href="#annotated-cell-19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(starwars, <span class="fu">ends_with</span>(<span class="st">"color"</span>) <span class="sc">|</span> <span class="fu">contains</span>(<span class="st">"year"</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-19" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-19" data-code-lines="1" data-code-annotation="1">Select columns that ends with the value “color” or that contains the value “year”</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 4
   hair_color    skin_color  eye_color birth_year
   &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;          &lt;dbl&gt;
 1 blond         fair        blue            19  
 2 &lt;NA&gt;          gold        yellow         112  
 3 &lt;NA&gt;          white, blue red             33  
 4 none          white       yellow          41.9
 5 brown         light       brown           19  
 6 brown, grey   light       blue            52  
 7 brown         light       blue            47  
 8 &lt;NA&gt;          white, red  red             NA  
 9 black         light       brown           24  
10 auburn, white fair        blue-gray       57  
# ℹ 77 more rows</code></pre>
</div>
</div>
<p><br> <br> <br> <!-------- SELECT ----------------------------------------------------------></p>
</section>
</section>
<section id="renaming-columns" class="level3" data-number="14.3.2">
<h3 data-number="14.3.2" class="anchored" data-anchor-id="renaming-columns"><span class="header-section-number">14.3.2</span> Renaming columns</h3>
<p>The dplyr package provides several functions to rename columns in a data frame. Two of the most commonly used functions for this purpose are <code>rename()</code> and <code>rename_with()</code>.</p>
<section id="rename" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="rename">rename()</h4>
<p>The rename() function allows you to change the names of specific columns in a data frame. The syntax for the function is as follows:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-20"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-20" data-target-annotation="1">1</button><span id="annotated-cell-20-1" class="code-annotation-target"><a href="#annotated-cell-20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rename</span>(data, <span class="at">new_name =</span> old_name)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-20" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-20" data-code-lines="1" data-code-annotation="1">The old_name is the present name in the column and the new_name it the new name that particular column is expected to be renamed to.</span>
</dd>
</dl>
</div>
</div>
<ul>
<li><strong>data:</strong> This is the data frame you want to modify.<br>
</li>
<li><strong>new_name:</strong> This is the new name you want to assign to an existing column.<br>
</li>
<li><strong>old_name:</strong> This is the current name of the column you wish to rename.</li>
</ul>
<p><strong>Example:</strong></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-21"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-21" data-target-annotation="1">1</button><span id="annotated-cell-21-1" class="code-annotation-target"><a href="#annotated-cell-21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as_tibble</span>(mtcars) <span class="sc">|&gt;</span></span>
<span id="annotated-cell-21-2"><a href="#annotated-cell-21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-21" data-target-annotation="2">2</button><span id="annotated-cell-21-3" class="code-annotation-target"><a href="#annotated-cell-21-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">miles_per_gallon =</span> mpg,</span>
<span id="annotated-cell-21-4"><a href="#annotated-cell-21-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">displacement =</span> disp,</span>
<span id="annotated-cell-21-5"><a href="#annotated-cell-21-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">horsepower =</span> hp</span>
<span id="annotated-cell-21-6"><a href="#annotated-cell-21-6" aria-hidden="true" tabindex="-1"></a>  )</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-21" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-21" data-code-lines="1" data-code-annotation="1">Convert the mtcars data frame to a tibble</span>
</dd>
<dt data-target-cell="annotated-cell-21" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-21" data-code-lines="3,4,5" data-code-annotation="2">rename the columns <code>mpg</code>, <code>disp</code> and <code>hp</code> to <code>miles_per_gallon</code>, <code>displacement</code> and <code>horsepower</code> respectively.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 32 × 11
   miles_per_gallon   cyl displacement horsepower  drat    wt  qsec    vs    am
              &lt;dbl&gt; &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1             21       6         160         110  3.9   2.62  16.5     0     1
 2             21       6         160         110  3.9   2.88  17.0     0     1
 3             22.8     4         108          93  3.85  2.32  18.6     1     1
 4             21.4     6         258         110  3.08  3.22  19.4     1     0
 5             18.7     8         360         175  3.15  3.44  17.0     0     0
 6             18.1     6         225         105  2.76  3.46  20.2     1     0
 7             14.3     8         360         245  3.21  3.57  15.8     0     0
 8             24.4     4         147.         62  3.69  3.19  20       1     0
 9             22.8     4         141.         95  3.92  3.15  22.9     1     0
10             19.2     6         168.        123  3.92  3.44  18.3     1     0
# ℹ 22 more rows
# ℹ 2 more variables: gear &lt;dbl&gt;, carb &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="rename_with" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="rename_with">rename_with()</h4>
<p>The <code>rename_with()</code> function provides more flexibility by allowing you to apply a function to all or some column names. The syntax for this function is:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rename_with</span>(data, .fn, .cols)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<ul>
<li><strong>data:</strong> The data frame you want to modify.</li>
<li><strong>.fn:</strong> A function that will be applied to the selected column names.</li>
<li><strong>.cols:</strong> Specifies which columns should be renamed (you can use tidyselect helpers like <code>starts_with()</code>, <code>contains()</code>, etc.).</li>
</ul>
<p><strong>Example:</strong></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-23"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="1">1</button><span id="annotated-cell-23-1" class="code-annotation-target"><a href="#annotated-cell-23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as_tibble</span>(iris)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-23" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="1" data-code-annotation="1">Convert the iris data frame to a tibble.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 150 × 5
   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
 1          5.1         3.5          1.4         0.2 setosa 
 2          4.9         3            1.4         0.2 setosa 
 3          4.7         3.2          1.3         0.2 setosa 
 4          4.6         3.1          1.5         0.2 setosa 
 5          5           3.6          1.4         0.2 setosa 
 6          5.4         3.9          1.7         0.4 setosa 
 7          4.6         3.4          1.4         0.3 setosa 
 8          5           3.4          1.5         0.2 setosa 
 9          4.4         2.9          1.4         0.2 setosa 
10          4.9         3.1          1.5         0.1 setosa 
# ℹ 140 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-24"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-24-1"><a href="#annotated-cell-24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as_tibble</span>(iris) <span class="sc">|&gt;</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="1">1</button><span id="annotated-cell-24-2" class="code-annotation-target"><a href="#annotated-cell-24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(\(x) <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">"_"</span>, x))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-24" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="2" data-code-annotation="1">replace the <code>.</code> in all the column name to <code>_</code> using the <code>gsub()</code> in base r.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 150 × 5
   Sepal_Length Sepal_Width Petal_Length Petal_Width Species
          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
 1          5.1         3.5          1.4         0.2 setosa 
 2          4.9         3            1.4         0.2 setosa 
 3          4.7         3.2          1.3         0.2 setosa 
 4          4.6         3.1          1.5         0.2 setosa 
 5          5           3.6          1.4         0.2 setosa 
 6          5.4         3.9          1.7         0.4 setosa 
 7          4.6         3.4          1.4         0.3 setosa 
 8          5           3.4          1.5         0.2 setosa 
 9          4.4         2.9          1.4         0.2 setosa 
10          4.9         3.1          1.5         0.1 setosa 
# ℹ 140 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-25"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="1">1</button><span id="annotated-cell-25-1" class="code-annotation-target"><a href="#annotated-cell-25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rename_with</span>(starwars, toupper)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-25" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="1" data-code-annotation="1">Convert all the column names in the <code>starwars</code> data frame to upper case.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 14
   NAME     HEIGHT  MASS HAIR_COLOR SKIN_COLOR EYE_COLOR BIRTH_YEAR SEX   GENDER
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke Sk…    172    77 blond      fair       blue            19   male  mascu…
 2 C-3PO       167    75 &lt;NA&gt;       gold       yellow         112   none  mascu…
 3 R2-D2        96    32 &lt;NA&gt;       white, bl… red             33   none  mascu…
 4 Darth V…    202   136 none       white      yellow          41.9 male  mascu…
 5 Leia Or…    150    49 brown      light      brown           19   fema… femin…
 6 Owen La…    178   120 brown, gr… light      blue            52   male  mascu…
 7 Beru Wh…    165    75 brown      light      blue            47   fema… femin…
 8 R5-D4        97    32 &lt;NA&gt;       white, red red             NA   none  mascu…
 9 Biggs D…    183    84 black      light      brown           24   male  mascu…
10 Obi-Wan…    182    77 auburn, w… fair       blue-gray       57   male  mascu…
# ℹ 77 more rows
# ℹ 5 more variables: HOMEWORLD &lt;chr&gt;, SPECIES &lt;chr&gt;, FILMS &lt;list&gt;,
#   VEHICLES &lt;list&gt;, STARSHIPS &lt;list&gt;</code></pre>
</div>
</div>
<p><br> <br> <br> <!----- RENAME --------------------------------------------------------------></p>
</section>
</section>
<section id="reorder-columns" class="level3" data-number="14.3.3">
<h3 data-number="14.3.3" class="anchored" data-anchor-id="reorder-columns"><span class="header-section-number">14.3.3</span> Reorder columns</h3>
<p>The <code>relocate()</code> function allows users to change the order of columns in a data frame or tibble, making it easier to organize data according to specific needs.</p>
<section id="moving-one-or-more-columns-to-front" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="moving-one-or-more-columns-to-front">Moving one or more columns to front</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-26"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="1">1</button><span id="annotated-cell-26-1" class="code-annotation-target"><a href="#annotated-cell-26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">relocate</span>(starwars, hair_color, skin_color, eye_color)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-26" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="1" data-code-annotation="1">Make the <code>hair_color</code>, <code>skin_color</code> and <code>eye_color</code> as the first set of columns.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 14
   hair_color    skin_color eye_color name  height  mass birth_year sex   gender
   &lt;chr&gt;         &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 blond         fair       blue      Luke…    172    77       19   male  mascu…
 2 &lt;NA&gt;          gold       yellow    C-3PO    167    75      112   none  mascu…
 3 &lt;NA&gt;          white, bl… red       R2-D2     96    32       33   none  mascu…
 4 none          white      yellow    Dart…    202   136       41.9 male  mascu…
 5 brown         light      brown     Leia…    150    49       19   fema… femin…
 6 brown, grey   light      blue      Owen…    178   120       52   male  mascu…
 7 brown         light      blue      Beru…    165    75       47   fema… femin…
 8 &lt;NA&gt;          white, red red       R5-D4     97    32       NA   none  mascu…
 9 black         light      brown     Bigg…    183    84       24   male  mascu…
10 auburn, white fair       blue-gray Obi-…    182    77       57   male  mascu…
# ℹ 77 more rows
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="moving-one-or-more-columns-after-another-column" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="moving-one-or-more-columns-after-another-column">Moving one or more columns after another column</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-27"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-27" data-target-annotation="1">1</button><span id="annotated-cell-27-1" class="code-annotation-target"><a href="#annotated-cell-27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">relocate</span>(starwars, hair_color, skin_color, eye_color, <span class="at">.after =</span> name)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-27" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-27" data-code-lines="1" data-code-annotation="1">Move the <code>hair_color</code>, <code>skin_color</code> and <code>eye_color</code> after the <code>name</code> column</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 14
   name     hair_color skin_color eye_color height  mass birth_year sex   gender
   &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke Sk… blond      fair       blue         172    77       19   male  mascu…
 2 C-3PO    &lt;NA&gt;       gold       yellow       167    75      112   none  mascu…
 3 R2-D2    &lt;NA&gt;       white, bl… red           96    32       33   none  mascu…
 4 Darth V… none       white      yellow       202   136       41.9 male  mascu…
 5 Leia Or… brown      light      brown        150    49       19   fema… femin…
 6 Owen La… brown, gr… light      blue         178   120       52   male  mascu…
 7 Beru Wh… brown      light      blue         165    75       47   fema… femin…
 8 R5-D4    &lt;NA&gt;       white, red red           97    32       NA   none  mascu…
 9 Biggs D… black      light      brown        183    84       24   male  mascu…
10 Obi-Wan… auburn, w… fair       blue-gray    182    77       57   male  mascu…
# ℹ 77 more rows
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="moving-one-or-more-columns-before-another-column" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="moving-one-or-more-columns-before-another-column">moving one or more columns before another column</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-28"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="1">1</button><span id="annotated-cell-28-1" class="code-annotation-target"><a href="#annotated-cell-28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">relocate</span>(starwars, hair_color, skin_color, eye_color, <span class="at">.before =</span> name)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-28" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="1" data-code-annotation="1">Move the <code>hair_color</code>, <code>skin_color</code> and <code>eye_color</code> before the <code>name</code> column</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 14
   hair_color    skin_color eye_color name  height  mass birth_year sex   gender
   &lt;chr&gt;         &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 blond         fair       blue      Luke…    172    77       19   male  mascu…
 2 &lt;NA&gt;          gold       yellow    C-3PO    167    75      112   none  mascu…
 3 &lt;NA&gt;          white, bl… red       R2-D2     96    32       33   none  mascu…
 4 none          white      yellow    Dart…    202   136       41.9 male  mascu…
 5 brown         light      brown     Leia…    150    49       19   fema… femin…
 6 brown, grey   light      blue      Owen…    178   120       52   male  mascu…
 7 brown         light      blue      Beru…    165    75       47   fema… femin…
 8 &lt;NA&gt;          white, red red       R5-D4     97    32       NA   none  mascu…
 9 black         light      brown     Bigg…    183    84       24   male  mascu…
10 auburn, white fair       blue-gray Obi-…    182    77       57   male  mascu…
# ℹ 77 more rows
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<p><br> <br> <br> <!------- RELOCATE ---------------------------------------------------------></p>
</section>
</section>
<section id="filter-records" class="level3" data-number="14.3.4">
<h3 data-number="14.3.4" class="anchored" data-anchor-id="filter-records"><span class="header-section-number">14.3.4</span> Filter records</h3>
<p>To subset rows in a data frame (or tibble) based on specific conditions you can use the <code>filter()</code> function. <strong>Keeps only rows where the specified condition(s) are <code>TRUE</code>.</strong></p>
<p><strong>Basic Syntax:</strong></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(.data, condition1, condition2, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<ul>
<li><strong>.data:</strong> The data frame or tibble you are working with.</li>
<li><strong>condition1, condition2, …:</strong> Logical conditions that define which rows to keep. Multiple conditions can be combined using logical operators (&amp; for “and”, | for “or”).</li>
</ul>
<p><strong>Example:</strong></p>
<section id="filtering-rows-based-on-a-single-condition" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="filtering-rows-based-on-a-single-condition">Filtering rows based on a single condition</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-30"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="1">1</button><span id="annotated-cell-30-1" class="code-annotation-target"><a href="#annotated-cell-30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(starwars, eye_color <span class="sc">==</span> <span class="st">"blue"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-30" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="1" data-code-annotation="1">Retrieve all row where the eye_color is blue.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 19 × 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke Sk…    172  77   blond      fair       blue            19   male  mascu…
 2 Owen La…    178 120   brown, gr… light      blue            52   male  mascu…
 3 Beru Wh…    165  75   brown      light      blue            47   fema… femin…
 4 Anakin …    188  84   blond      fair       blue            41.9 male  mascu…
 5 Wilhuff…    180  NA   auburn, g… fair       blue            64   male  mascu…
 6 Chewbac…    228 112   brown      unknown    blue           200   male  mascu…
 7 Jek Ton…    180 110   brown      fair       blue            NA   &lt;NA&gt;  &lt;NA&gt;  
 8 Lobot       175  79   none       light      blue            37   male  mascu…
 9 Mon Mot…    150  NA   auburn     fair       blue            48   fema… femin…
10 Qui-Gon…    193  89   brown      fair       blue            92   male  mascu…
11 Finis V…    170  NA   blond      fair       blue            91   male  mascu…
12 Ric Olié    183  NA   brown      fair       blue            NA   male  mascu…
13 Adi Gal…    184  50   none       dark       blue            NA   fema… femin…
14 Mas Ame…    196  NA   none       blue       blue            NA   male  mascu…
15 Cliegg …    183  NA   brown      fair       blue            82   male  mascu…
16 Luminar…    170  56.2 black      yellow     blue            58   fema… femin…
17 Barriss…    166  50   black      yellow     blue            40   fema… femin…
18 Jocasta…    167  NA   white      fair       blue            NA   fema… femin…
19 Tarfful     234 136   brown      brown      blue            NA   male  mascu…
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="filtering-with-multiple-conditions" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="filtering-with-multiple-conditions">Filtering with multiple conditions</h4>
<p>You can filter based on multiple conditions using <code>&amp; (AND)</code> or <code>| (OR)</code>.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-31"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-31" data-target-annotation="1">1</button><span id="annotated-cell-31-1" class="code-annotation-target"><a href="#annotated-cell-31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(starwars, eye_color <span class="sc">==</span> <span class="st">"blue"</span> <span class="sc">&amp;</span> skin_color <span class="sc">==</span> <span class="st">"light"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-31" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-31" data-code-lines="1" data-code-annotation="1">Retrieve all row where the eye_color is blue and skin color is light.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 Owen Lars    178   120 brown, gr… light      blue              52 male  mascu…
2 Beru Whi…    165    75 brown      light      blue              47 fema… femin…
3 Lobot        175    79 none       light      blue              37 male  mascu…
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-32"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="1">1</button><span id="annotated-cell-32-1" class="code-annotation-target"><a href="#annotated-cell-32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(starwars, sex <span class="sc">==</span> <span class="st">"female"</span> <span class="sc">|</span> hair_color <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"brown"</span>, <span class="st">"black"</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-32" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="1" data-code-annotation="1">Retrieve all records where sex is female or the hair color is either brown or black.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 39 × 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Leia Or…    150  49   brown      light      brown           19   fema… femin…
 2 Beru Wh…    165  75   brown      light      blue            47   fema… femin…
 3 Biggs D…    183  84   black      light      brown           24   male  mascu…
 4 Chewbac…    228 112   brown      unknown    blue           200   male  mascu…
 5 Han Solo    180  80   brown      fair       brown           29   male  mascu…
 6 Wedge A…    170  77   brown      fair       hazel           21   male  mascu…
 7 Jek Ton…    180 110   brown      fair       blue            NA   &lt;NA&gt;  &lt;NA&gt;  
 8 Boba Fe…    183  78.2 black      fair       brown           31.5 male  mascu…
 9 Lando C…    177  79   black      dark       brown           31   male  mascu…
10 Mon Mot…    150  NA   auburn     fair       blue            48   fema… femin…
# ℹ 29 more rows
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="filtering-with-comparison-operators" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="filtering-with-comparison-operators">Filtering with comparison operators</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-33"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-33" data-target-annotation="1">1</button><span id="annotated-cell-33-1" class="code-annotation-target"><a href="#annotated-cell-33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(starwars, height <span class="sc">&gt;</span> <span class="dv">180</span> <span class="sc">&amp;</span> mass <span class="sc">&gt;=</span> <span class="dv">80</span> <span class="sc">&amp;</span> birth_year <span class="sc">&lt;=</span> <span class="dv">80</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-33" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-33" data-code-lines="1" data-code-annotation="1">Retrieve all records where height is greater than 180 and mass is greater than or equal to 80 and birth year is less than or equal to 80.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 Darth Va…    202   136 none       white      yellow          41.9 male  mascu…
2 Biggs Da…    183    84 black      light      brown           24   male  mascu…
3 Anakin S…    188    84 blond      fair       blue            41.9 male  mascu…
4 IG-88        200   140 none       metal      red             15   none  mascu…
5 Bossk        190   113 none       green      red             53   male  mascu…
6 Mace Win…    188    84 none       dark       brown           72   male  mascu…
7 Plo Koon     188    80 none       orange     black           22   male  mascu…
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="using-functions-within-filter" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="using-functions-within-filter">Using functions within filter()</h4>
<p>You can use other functions within <code>filter()</code>, such as <code>is.na()</code> for handling missing values or string functions like <code>grepl()</code>.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-34"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="1">1</button><span id="annotated-cell-34-1" class="code-annotation-target"><a href="#annotated-cell-34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(starwars, <span class="fu">is.na</span>(hair_color))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-34" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="1" data-code-annotation="1">Filter records of hair_color with missing values <code>(NA)</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 C-3PO        167    75 &lt;NA&gt;       gold       yellow           112 none  mascu…
2 R2-D2         96    32 &lt;NA&gt;       white, bl… red               33 none  mascu…
3 R5-D4         97    32 &lt;NA&gt;       white, red red               NA none  mascu…
4 Greedo       173    74 &lt;NA&gt;       green      black             44 male  mascu…
5 Jabba De…    175  1358 &lt;NA&gt;       green-tan… orange           600 herm… mascu…
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-35"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-35" data-target-annotation="1">1</button><span id="annotated-cell-35-1" class="code-annotation-target"><a href="#annotated-cell-35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(starwars, <span class="fu">grepl</span>(<span class="st">"Skywalker"</span>, name))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-35" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-35" data-code-lines="1" data-code-annotation="1">Filter names with <code>Skywalker</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 Luke Sky…    172    77 blond      fair       blue            19   male  mascu…
2 Anakin S…    188    84 blond      fair       blue            41.9 male  mascu…
3 Shmi Sky…    163    NA black      fair       brown           72   fema… femin…
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Common pitfalls and tips
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p><strong>Ensure data types match:</strong> Be mindful of data types when filtering, especially with factors and strings.</p></li>
<li><p><strong>Missing values:</strong> By default, comparisons with <code>NA</code> will result in <code>NA</code>. Use <code>is.na()</code> to explicitly handle missing values.</p></li>
<li><p><strong>Order of conditions matters:</strong> Be clear about the logical conditions and their order, especially when combining multiple conditions.</p></li>
</ul>
</div>
</div>
</section>
<section id="between" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="between">between()</h4>
<p>Filter between a range of values</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-36"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-36" data-target-annotation="1">1</button><span id="annotated-cell-36-1" class="code-annotation-target"><a href="#annotated-cell-36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(starwars, <span class="fu">between</span>(height, <span class="dv">100</span>, <span class="dv">150</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-36" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-36" data-code-lines="1" data-code-annotation="1">Retrieve records of height between 100 and 150</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 14
  name      height  mass hair_color skin_color eye_color birth_year sex   gender
  &lt;chr&gt;      &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
1 Leia Org…    150    49 brown      light      brown             19 fema… femin…
2 Mon Moth…    150    NA auburn     fair       blue              48 fema… femin…
3 Watto        137    NA black      blue, grey yellow            NA male  mascu…
4 Sebulba      112    40 none       grey, red  orange            NA male  mascu…
5 Gasgano      122    NA none       white, bl… black             NA male  mascu…
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<p><br> <br> <br> <!------ FILTER -------------------------------------------------------------></p>
</section>
</section>
<section id="create-modify-and-delete-columns" class="level3" data-number="14.3.5">
<h3 data-number="14.3.5" class="anchored" data-anchor-id="create-modify-and-delete-columns"><span class="header-section-number">14.3.5</span> Create, modify and delete columns</h3>
<p>The <code>mutate()</code> function is used to create or modify columns in a data frame (or tibble). It allows you to add new columns or change existing ones based on calculations or transformations of other columns.</p>
<section id="creating-a-new-column" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="creating-a-new-column">Creating a new column</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-37"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-37-1"><a href="#annotated-cell-37-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">|&gt;</span> </span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-37" data-target-annotation="1">1</button><span id="annotated-cell-37-2" class="code-annotation-target"><a href="#annotated-cell-37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bmi =</span> mass <span class="sc">/</span> (height <span class="sc">/</span> <span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>) <span class="sc">|&gt;</span></span>
<span id="annotated-cell-37-3"><a href="#annotated-cell-37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, mass, height, bmi)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-37" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-37" data-code-lines="2" data-code-annotation="1">calculate the Body Mass Index by converting the height from cm to m and squaring before dividing by the mass (weight in kg)</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 4
   name                mass height   bmi
   &lt;chr&gt;              &lt;dbl&gt;  &lt;int&gt; &lt;dbl&gt;
 1 Luke Skywalker        77    172  26.0
 2 C-3PO                 75    167  26.9
 3 R2-D2                 32     96  34.7
 4 Darth Vader          136    202  33.3
 5 Leia Organa           49    150  21.8
 6 Owen Lars            120    178  37.9
 7 Beru Whitesun Lars    75    165  27.5
 8 R5-D4                 32     97  34.0
 9 Biggs Darklighter     84    183  25.1
10 Obi-Wan Kenobi        77    182  23.2
# ℹ 77 more rows</code></pre>
</div>
</div>
</section>
<section id="modifying-an-existing-column" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="modifying-an-existing-column">Modifying an existing column</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-38"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-38-1"><a href="#annotated-cell-38-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">|&gt;</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="1">1</button><span id="annotated-cell-38-2" class="code-annotation-target"><a href="#annotated-cell-38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">height =</span> height <span class="sc">*</span> <span class="dv">2</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-38" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="2" data-code-annotation="1">Double the height of all characters.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke Sk…    344    77 blond      fair       blue            19   male  mascu…
 2 C-3PO       334    75 &lt;NA&gt;       gold       yellow         112   none  mascu…
 3 R2-D2       192    32 &lt;NA&gt;       white, bl… red             33   none  mascu…
 4 Darth V…    404   136 none       white      yellow          41.9 male  mascu…
 5 Leia Or…    300    49 brown      light      brown           19   fema… femin…
 6 Owen La…    356   120 brown, gr… light      blue            52   male  mascu…
 7 Beru Wh…    330    75 brown      light      blue            47   fema… femin…
 8 R5-D4       194    32 &lt;NA&gt;       white, red red             NA   none  mascu…
 9 Biggs D…    366    84 black      light      brown           24   male  mascu…
10 Obi-Wan…    364    77 auburn, w… fair       blue-gray       57   male  mascu…
# ℹ 77 more rows
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="using-conditional-statements" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="using-conditional-statements">Using conditional statements</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-39"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-39-1"><a href="#annotated-cell-39-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">|&gt;</span> </span>
<span id="annotated-cell-39-2"><a href="#annotated-cell-39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-39" data-target-annotation="1">1</button><span id="annotated-cell-39-3" class="code-annotation-target"><a href="#annotated-cell-39-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">bmi =</span> mass <span class="sc">/</span> (height <span class="sc">/</span> <span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="annotated-cell-39-4"><a href="#annotated-cell-39-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">brief_bmi_category =</span> <span class="fu">if_else</span>(</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-39" data-target-annotation="2">2</button><span id="annotated-cell-39-5" class="code-annotation-target"><a href="#annotated-cell-39-5" aria-hidden="true" tabindex="-1"></a>      bmi <span class="sc">&gt;</span> <span class="fl">24.9</span>, <span class="st">"Overweight"</span>, <span class="st">"Normal weight"</span></span>
<span id="annotated-cell-39-6"><a href="#annotated-cell-39-6" aria-hidden="true" tabindex="-1"></a>    ),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-39" data-target-annotation="3">3</button><span id="annotated-cell-39-7" class="code-annotation-target"><a href="#annotated-cell-39-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">bmi_category =</span> <span class="fu">case_when</span>(</span>
<span id="annotated-cell-39-8"><a href="#annotated-cell-39-8" aria-hidden="true" tabindex="-1"></a>      bmi <span class="sc">&lt;</span> <span class="fl">18.5</span> <span class="sc">~</span> <span class="st">"Underweight"</span>,</span>
<span id="annotated-cell-39-9"><a href="#annotated-cell-39-9" aria-hidden="true" tabindex="-1"></a>      bmi <span class="sc">&gt;=</span> <span class="fl">18.5</span> <span class="sc">&amp;</span> bmi <span class="sc">&lt;=</span> <span class="fl">24.9</span> <span class="sc">~</span> <span class="st">"Normal weight"</span>,</span>
<span id="annotated-cell-39-10"><a href="#annotated-cell-39-10" aria-hidden="true" tabindex="-1"></a>      bmi <span class="sc">&gt;=</span> <span class="dv">25</span> <span class="sc">&amp;</span> bmi <span class="sc">&lt;=</span> <span class="fl">29.9</span> <span class="sc">~</span> <span class="st">"Overweight"</span>,</span>
<span id="annotated-cell-39-11"><a href="#annotated-cell-39-11" aria-hidden="true" tabindex="-1"></a>      bmi <span class="sc">&gt;=</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"Obesity"</span>,</span>
<span id="annotated-cell-39-12"><a href="#annotated-cell-39-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> <span class="st">"Unknow weight"</span></span>
<span id="annotated-cell-39-13"><a href="#annotated-cell-39-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="annotated-cell-39-14"><a href="#annotated-cell-39-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span>                   </span>
<span id="annotated-cell-39-15"><a href="#annotated-cell-39-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, mass, height, bmi, brief_bmi_category, bmi_category)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-39" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-39" data-code-lines="3" data-code-annotation="1">calculate the Body Mass Index by converting the height from cm to m and squaring before dividing by the mass (weight in kg).</span>
</dd>
<dt data-target-cell="annotated-cell-39" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-39" data-code-lines="5" data-code-annotation="2">create a brief categorical value of the calculated bmi using the <code>if_else()</code> function.</span>
</dd>
<dt data-target-cell="annotated-cell-39" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-39" data-code-lines="7" data-code-annotation="3">create a detailed categorical value of the calculated bmi using the <code>case_when()</code> function.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 6
   name                mass height   bmi brief_bmi_category bmi_category 
   &lt;chr&gt;              &lt;dbl&gt;  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;              &lt;chr&gt;        
 1 Luke Skywalker        77    172  26.0 Overweight         Overweight   
 2 C-3PO                 75    167  26.9 Overweight         Overweight   
 3 R2-D2                 32     96  34.7 Overweight         Obesity      
 4 Darth Vader          136    202  33.3 Overweight         Obesity      
 5 Leia Organa           49    150  21.8 Normal weight      Normal weight
 6 Owen Lars            120    178  37.9 Overweight         Obesity      
 7 Beru Whitesun Lars    75    165  27.5 Overweight         Overweight   
 8 R5-D4                 32     97  34.0 Overweight         Obesity      
 9 Biggs Darklighter     84    183  25.1 Overweight         Overweight   
10 Obi-Wan Kenobi        77    182  23.2 Normal weight      Normal weight
# ℹ 77 more rows</code></pre>
</div>
</div>
<p><br> <br> <br> <!------ MUTATE -------------------------------------------------------------></p>
</section>
</section>
<section id="summarise-records" class="level3" data-number="14.3.6">
<h3 data-number="14.3.6" class="anchored" data-anchor-id="summarise-records"><span class="header-section-number">14.3.6</span> Summarise records</h3>
<p>The <code>summarise()</code> function helps in creating summary statistics for variables in a table. It Reduces multiple rows to a single summary, often used after <code>group_by()</code></p>
<section id="count" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="count">count()</h4>
<p>The <code>count()</code> function is used to count occurrences of unique values in a column by grouping the data based on specified columns then count the number of observations.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-40"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="1">1</button><span id="annotated-cell-40-1" class="code-annotation-target"><a href="#annotated-cell-40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(starwars, eye_color, <span class="at">sort =</span> <span class="cn">TRUE</span>, <span class="at">name =</span> <span class="st">"eye_color_count"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-40" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="1" data-code-annotation="1">Count the number of character with the different type of eye colors and arrange the values in descending order.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 2
   eye_color     eye_color_count
   &lt;chr&gt;                   &lt;int&gt;
 1 brown                      21
 2 blue                       19
 3 yellow                     11
 4 black                      10
 5 orange                      8
 6 red                         5
 7 hazel                       3
 8 unknown                     3
 9 blue-gray                   1
10 dark                        1
11 gold                        1
12 green, yellow               1
13 pink                        1
14 red, blue                   1
15 white                       1</code></pre>
</div>
</div>
<p><strong>Count multiple columns unique values:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-41"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-41" data-target-annotation="1">1</button><span id="annotated-cell-41-1" class="code-annotation-target"><a href="#annotated-cell-41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(starwars, eye_color, skin_color, <span class="at">sort =</span> <span class="cn">TRUE</span>, <span class="at">name =</span> <span class="st">"count"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-41" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-41" data-code-lines="1" data-code-annotation="1">Count the number of character with each type of eye and skin color.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53 × 3
   eye_color skin_color count
   &lt;chr&gt;     &lt;chr&gt;      &lt;int&gt;
 1 blue      fair          10
 2 brown     light          7
 3 brown     fair           5
 4 black     grey           4
 5 brown     dark           4
 6 blue      light          3
 7 black     green          2
 8 blue      yellow         2
 9 brown     brown          2
10 brown     tan            2
# ℹ 43 more rows</code></pre>
</div>
</div>
</section>
<section id="distinct" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="distinct">distinct()</h4>
<p>To return unique rows and eliminating duplicates, the distinct() is quite versatile given that it filters out duplicate rows based on the specified columns.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-42"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-42" data-target-annotation="1">1</button><span id="annotated-cell-42-1" class="code-annotation-target"><a href="#annotated-cell-42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">distinct</span>(starwars, sex)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-42" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-42" data-code-lines="1" data-code-annotation="1">Get the unique values in the sex column.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 1
  sex           
  &lt;chr&gt;         
1 male          
2 none          
3 female        
4 hermaphroditic
5 &lt;NA&gt;          </code></pre>
</div>
</div>
<p><strong>Get multiple distinct column values:</strong></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-43"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-43" data-target-annotation="1">1</button><span id="annotated-cell-43-1" class="code-annotation-target"><a href="#annotated-cell-43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">distinct</span>(starwars, sex, gender)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-43" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-43" data-code-lines="1" data-code-annotation="1">Get the unique value in the sex and gender columns.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  sex            gender   
  &lt;chr&gt;          &lt;chr&gt;    
1 male           masculine
2 none           masculine
3 female         feminine 
4 hermaphroditic masculine
5 &lt;NA&gt;           &lt;NA&gt;     
6 none           feminine </code></pre>
</div>
</div>
</section>
<section id="summarise" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="summarise">summarise()</h4>
<p>The <code>summarise()</code> function is used to create summary statistics of variables in a data frame (or tibble). It reduces multiple values down to a single value per group, making it essential for data aggregation and summary analysis.</p>
<section id="calculating-a-single-summary-statistic" class="level5 unnumbered">
<h5 class="unnumbered anchored" data-anchor-id="calculating-a-single-summary-statistic">Calculating a single summary statistic</h5>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-44"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-44" data-target-annotation="1">1</button><span id="annotated-cell-44-1" class="code-annotation-target"><a href="#annotated-cell-44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summarise</span>(starwars, <span class="at">avg_mass =</span> <span class="fu">mean</span>(mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-44" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-44" data-code-lines="1" data-code-annotation="1">Get the average mass of all character in the dataset.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  avg_mass
     &lt;dbl&gt;
1     97.3</code></pre>
</div>
</div>
</section>
<section id="calculating-multiple-summary-statistics" class="level5 unnumbered">
<h5 class="unnumbered anchored" data-anchor-id="calculating-multiple-summary-statistics">Calculating multiple summary statistics</h5>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-45"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-45-1"><a href="#annotated-cell-45-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="annotated-cell-45-2"><a href="#annotated-cell-45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-45" data-target-annotation="1">1</button><span id="annotated-cell-45-3" class="code-annotation-target"><a href="#annotated-cell-45-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_mass =</span> <span class="fu">min</span>(mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-45" data-target-annotation="2">2</button><span id="annotated-cell-45-4" class="code-annotation-target"><a href="#annotated-cell-45-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_mass =</span> <span class="fu">mean</span>(mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-45" data-target-annotation="3">3</button><span id="annotated-cell-45-5" class="code-annotation-target"><a href="#annotated-cell-45-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_mass =</span> <span class="fu">max</span>(mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="annotated-cell-45-6"><a href="#annotated-cell-45-6" aria-hidden="true" tabindex="-1"></a>  )  </span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-45" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-45" data-code-lines="3" data-code-annotation="1">Get the minimum mass of all character.</span>
</dd>
<dt data-target-cell="annotated-cell-45" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-45" data-code-lines="4" data-code-annotation="2">Get the average mass</span>
</dd>
<dt data-target-cell="annotated-cell-45" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-45" data-code-lines="5" data-code-annotation="3">Get the maximum mass of all character.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  min_mass avg_mass max_mass
     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1       15     97.3     1358</code></pre>
</div>
</div>
</section>
<section id="using-summarise-with-across-for-multiple-columns" class="level5 unnumbered">
<h5 class="unnumbered anchored" data-anchor-id="using-summarise-with-across-for-multiple-columns">Using summarise() with across() for multiple columns</h5>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-46"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-46-1"><a href="#annotated-cell-46-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="annotated-cell-46-2"><a href="#annotated-cell-46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="annotated-cell-46-3"><a href="#annotated-cell-46-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-46" data-target-annotation="1">1</button><span id="annotated-cell-46-4" class="code-annotation-target"><a href="#annotated-cell-46-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(height, mass, birth_year),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-46" data-target-annotation="2">2</button><span id="annotated-cell-46-5" class="code-annotation-target"><a href="#annotated-cell-46-5" aria-hidden="true" tabindex="-1"></a>      \(x) <span class="fu">max</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-46" data-target-annotation="3">3</button><span id="annotated-cell-46-6" class="code-annotation-target"><a href="#annotated-cell-46-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">.names =</span> <span class="st">"max_{col}"</span></span>
<span id="annotated-cell-46-7"><a href="#annotated-cell-46-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="annotated-cell-46-8"><a href="#annotated-cell-46-8" aria-hidden="true" tabindex="-1"></a>  )</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-46" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-46" data-code-lines="4" data-code-annotation="1">Summarize across multiple columns</span>
</dd>
<dt data-target-cell="annotated-cell-46" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-46" data-code-lines="5" data-code-annotation="2">Use the <code>max()</code> aggregate function.</span>
</dd>
<dt data-target-cell="annotated-cell-46" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-46" data-code-lines="6" data-code-annotation="3">rename the summarized column.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  max_height max_mass max_birth_year
       &lt;int&gt;    &lt;dbl&gt;          &lt;dbl&gt;
1        264     1358            896</code></pre>
</div>
</div>
<p><br> <br> <br> <!------ SUMMARISE --------------------------------------------------------></p>
</section>
</section>
</section>
<section id="grouped-data" class="level3" data-number="14.3.7">
<h3 data-number="14.3.7" class="anchored" data-anchor-id="grouped-data"><span class="header-section-number">14.3.7</span> Grouped data</h3>
<section id="aggregate-summary" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="aggregate-summary">Aggregate summary</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-47"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-47-1"><a href="#annotated-cell-47-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">|&gt;</span> </span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-47" data-target-annotation="1">1</button><span id="annotated-cell-47-2" class="code-annotation-target"><a href="#annotated-cell-47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex) <span class="sc">|&gt;</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-47" data-target-annotation="2">2</button><span id="annotated-cell-47-3" class="code-annotation-target"><a href="#annotated-cell-47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg_mass =</span> <span class="fu">mean</span>(mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-47" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-47" data-code-lines="2" data-code-annotation="1">Group the data by character sex (the sex variable)</span>
</dd>
<dt data-target-cell="annotated-cell-47" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-47" data-code-lines="3" data-code-annotation="2">Get the average body mass of each group.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  sex            avg_mass
  &lt;chr&gt;             &lt;dbl&gt;
1 female             54.7
2 hermaphroditic   1358  
3 male               80.2
4 none               69.8
5 &lt;NA&gt;               81  </code></pre>
</div>
</div>
<p>The <code>summarise()</code> function also have an argument called <code>.by</code> which allows a selection of columns to group by for just a single operation.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-48"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-48-1"><a href="#annotated-cell-48-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">|&gt;</span></span>
<span id="annotated-cell-48-2"><a href="#annotated-cell-48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-48" data-target-annotation="1">1</button><span id="annotated-cell-48-3" class="code-annotation-target"><a href="#annotated-cell-48-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_mass =</span> <span class="fu">mean</span>(mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-48" data-target-annotation="2">2</button><span id="annotated-cell-48-4" class="code-annotation-target"><a href="#annotated-cell-48-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> sex</span>
<span id="annotated-cell-48-5"><a href="#annotated-cell-48-5" aria-hidden="true" tabindex="-1"></a>  ) </span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-48" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-48" data-code-lines="3" data-code-annotation="1">Get the average body mass of each group.</span>
</dd>
<dt data-target-cell="annotated-cell-48" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-48" data-code-lines="4" data-code-annotation="2">Group the data by character sex (the sex variable)</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  sex            avg_mass
  &lt;chr&gt;             &lt;dbl&gt;
1 male               80.2
2 none               69.8
3 female             54.7
4 hermaphroditic   1358  
5 &lt;NA&gt;               81  </code></pre>
</div>
</div>
</section>
<section id="window-function-with-mutate" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="window-function-with-mutate">Window function with mutate()</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-49"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-49-1"><a href="#annotated-cell-49-1" aria-hidden="true" tabindex="-1"></a>starwars <span class="sc">|&gt;</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-49" data-target-annotation="1">1</button><span id="annotated-cell-49-2" class="code-annotation-target"><a href="#annotated-cell-49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(skin_color) <span class="sc">|&gt;</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-49" data-target-annotation="2">2</button><span id="annotated-cell-49-3" class="code-annotation-target"><a href="#annotated-cell-49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">skin_color_avg_birth_year =</span> <span class="fu">mean</span>(birth_year, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-49" data-target-annotation="3">3</button><span id="annotated-cell-49-4" class="code-annotation-target"><a href="#annotated-cell-49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(skin_color, birth_year, skin_color_avg_birth_year)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-49" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-49" data-code-lines="2" data-code-annotation="1">segment the data by skin_color</span>
</dd>
<dt data-target-cell="annotated-cell-49" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-49" data-code-lines="3" data-code-annotation="2">For each group, calculate the average birth year.</span>
</dd>
<dt data-target-cell="annotated-cell-49" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-49" data-code-lines="4" data-code-annotation="3">select only the skin_color, birth_year and the calculated skin_color_avg_birth_year columns</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 3
# Groups:   skin_color [31]
   skin_color  birth_year skin_color_avg_birth_year
   &lt;chr&gt;            &lt;dbl&gt;                     &lt;dbl&gt;
 1 fair              19                        57.7
 2 gold             112                       112  
 3 white, blue       33                        33  
 4 white             41.9                      41.9
 5 light             19                        37.5
 6 light             52                        37.5
 7 light             47                        37.5
 8 white, red        NA                       NaN  
 9 light             24                        37.5
10 fair              57                        57.7
# ℹ 77 more rows</code></pre>
</div>
</div>
</section>
<section id="ungrouping-data-ungroup" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="ungrouping-data-ungroup">Ungrouping Data ungroup()</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-50"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-50-1"><a href="#annotated-cell-50-1" aria-hidden="true" tabindex="-1"></a>gp_tbl <span class="ot">&lt;-</span> starwars <span class="sc">|&gt;</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-50" data-target-annotation="1">1</button><span id="annotated-cell-50-2" class="code-annotation-target"><a href="#annotated-cell-50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex, gender)</span>
<span id="annotated-cell-50-3"><a href="#annotated-cell-50-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-50-4"><a href="#annotated-cell-50-4" aria-hidden="true" tabindex="-1"></a>gp_tbl <span class="sc">|&gt;</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-50" data-target-annotation="2">2</button><span id="annotated-cell-50-5" class="code-annotation-target"><a href="#annotated-cell-50-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>())</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-50" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-50" data-code-lines="2" data-code-annotation="1">Group the data by the sex and gender variables.</span>
</dd>
<dt data-target-cell="annotated-cell-50" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-50" data-code-lines="5" data-code-annotation="2">Get the number of times each group appeared in the data.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'sex'. You can override using the `.groups`
argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
# Groups:   sex [5]
  sex            gender    count
  &lt;chr&gt;          &lt;chr&gt;     &lt;int&gt;
1 female         feminine     16
2 hermaphroditic masculine     1
3 male           masculine    60
4 none           feminine      1
5 none           masculine     5
6 &lt;NA&gt;           &lt;NA&gt;          4</code></pre>
</div>
</div>
<p>After performing grouped operations, you may want to remove the grouping structure to perform further operations on the entire dataset.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-51"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-51" data-target-annotation="1">1</button><span id="annotated-cell-51-1" class="code-annotation-target"><a href="#annotated-cell-51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is_grouped_df</span>(gp_tbl)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-51" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-51" data-code-lines="1" data-code-annotation="1">Check whether the data <code>gp_tbl</code> is a grouped data frame</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Use <code>ungroup()</code> for this purpose.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-52"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-52-1"><a href="#annotated-cell-52-1" aria-hidden="true" tabindex="-1"></a>gp_tbl <span class="sc">|&gt;</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-52" data-target-annotation="1">1</button><span id="annotated-cell-52-2" class="code-annotation-target"><a href="#annotated-cell-52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-52" data-target-annotation="2">2</button><span id="annotated-cell-52-3" class="code-annotation-target"><a href="#annotated-cell-52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-52" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-52" data-code-lines="2" data-code-annotation="1">Get the number of times each group appeared in the data.</span>
</dd>
<dt data-target-cell="annotated-cell-52" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-52" data-code-lines="3" data-code-annotation="2">Remove the group definition from the dataset <code>gp_tbl</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'sex'. You can override using the `.groups`
argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  sex            gender    count
  &lt;chr&gt;          &lt;chr&gt;     &lt;int&gt;
1 female         feminine     16
2 hermaphroditic masculine     1
3 male           masculine    60
4 none           feminine      1
5 none           masculine     5
6 &lt;NA&gt;           &lt;NA&gt;          4</code></pre>
</div>
</div>
<p><br> <br> <br> <!------ GROUP_BY --------------------------------------------------------></p>
</section>
</section>
<section id="sort-records" class="level3" data-number="14.3.8">
<h3 data-number="14.3.8" class="anchored" data-anchor-id="sort-records"><span class="header-section-number">14.3.8</span> Sort records</h3>
<p>The <code>arrange()</code> function is used to reorder rows of a data frame based on the values of one or more columns. It’s a straightforward and highly useful function for sorting data in ascending or descending order, which can help in organizing a dataset.</p>
<p><strong>Examples:</strong></p>
<section id="sorting-in-ascending-order" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sorting-in-ascending-order">Sorting in ascending order</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-53"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-53-1"><a href="#annotated-cell-53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Default as Ascending</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-53" data-target-annotation="1">1</button><span id="annotated-cell-53-2" class="code-annotation-target"><a href="#annotated-cell-53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(starwars, height)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-53" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-53" data-code-lines="2" data-code-annotation="1">Sort the starwars data by character height in ascending order.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Yoda         66    17 white      green      brown            896 male  mascu…
 2 Ratts T…     79    15 none       grey, blue unknown           NA male  mascu…
 3 Wicket …     88    20 brown      brown      brown              8 male  mascu…
 4 Dud Bolt     94    45 none       blue, grey yellow            NA male  mascu…
 5 R2-D2        96    32 &lt;NA&gt;       white, bl… red               33 none  mascu…
 6 R4-P17       96    NA none       silver, r… red, blue         NA none  femin…
 7 R5-D4        97    32 &lt;NA&gt;       white, red red               NA none  mascu…
 8 Sebulba     112    40 none       grey, red  orange            NA male  mascu…
 9 Gasgano     122    NA none       white, bl… black             NA male  mascu…
10 Watto       137    NA black      blue, grey yellow            NA male  mascu…
# ℹ 77 more rows
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="sorting-in-descending-order" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sorting-in-descending-order">Sorting in descending order</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-54"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-54" data-target-annotation="1">1</button><span id="annotated-cell-54-1" class="code-annotation-target"><a href="#annotated-cell-54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(starwars, <span class="fu">desc</span>(height))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-54" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-54" data-code-lines="1" data-code-annotation="1">Sort the starwars data by character height in descending order.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Yarael …    264    NA none       white      yellow          NA   male  mascu…
 2 Tarfful     234   136 brown      brown      blue            NA   male  mascu…
 3 Lama Su     229    88 none       grey       black           NA   male  mascu…
 4 Chewbac…    228   112 brown      unknown    blue           200   male  mascu…
 5 Roos Ta…    224    82 none       grey       orange          NA   male  mascu…
 6 Grievous    216   159 none       brown, wh… green, y…       NA   male  mascu…
 7 Taun We     213    NA none       grey       black           NA   fema… femin…
 8 Rugor N…    206    NA none       green      orange          NA   male  mascu…
 9 Tion Me…    206    80 none       grey       black           NA   male  mascu…
10 Darth V…    202   136 none       white      yellow          41.9 male  mascu…
# ℹ 77 more rows
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</section>
<section id="sorting-by-multiple-columns" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sorting-by-multiple-columns">Sorting by multiple columns</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-55"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-55" data-target-annotation="1">1</button><span id="annotated-cell-55-1" class="code-annotation-target"><a href="#annotated-cell-55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(starwars, <span class="fu">desc</span>(height), <span class="fu">desc</span>(mass))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-55" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-55" data-code-lines="1" data-code-annotation="1">Sort by height and mass in descending order.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Yarael …    264    NA none       white      yellow          NA   male  mascu…
 2 Tarfful     234   136 brown      brown      blue            NA   male  mascu…
 3 Lama Su     229    88 none       grey       black           NA   male  mascu…
 4 Chewbac…    228   112 brown      unknown    blue           200   male  mascu…
 5 Roos Ta…    224    82 none       grey       orange          NA   male  mascu…
 6 Grievous    216   159 none       brown, wh… green, y…       NA   male  mascu…
 7 Taun We     213    NA none       grey       black           NA   fema… femin…
 8 Tion Me…    206    80 none       grey       black           NA   male  mascu…
 9 Rugor N…    206    NA none       green      orange          NA   male  mascu…
10 Darth V…    202   136 none       white      yellow          41.9 male  mascu…
# ℹ 77 more rows
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Sorting with NA values
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>By default, <code>arrange()</code> function will place <code>NA</code> (missing) values at the end of the sort.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(starwars, birth_year) <span class="sc">|&gt;</span> <span class="fu">tail</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Grievous    216   159 none       brown, wh… green, y…         NA male  mascu…
 2 Tarfful     234   136 brown      brown      blue              NA male  mascu…
 3 Raymus …    188    79 brown      light      brown             NA male  mascu…
 4 Sly Moo…    178    48 none       pale       white             NA &lt;NA&gt;  &lt;NA&gt;  
 5 Tion Me…    206    80 none       grey       black             NA male  mascu…
 6 Finn         NA    NA black      dark       dark              NA male  mascu…
 7 Rey          NA    NA brown      light      hazel             NA fema… femin…
 8 Poe Dam…     NA    NA brown      light      brown             NA male  mascu…
 9 BB8          NA    NA none       none       black             NA none  mascu…
10 Captain…     NA    NA none       none       unknown           NA fema… femin…
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(starwars, <span class="fu">desc</span>(birth_year)) <span class="sc">|&gt;</span> <span class="fu">tail</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 14
   name     height  mass hair_color skin_color eye_color birth_year sex   gender
   &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Grievous    216   159 none       brown, wh… green, y…         NA male  mascu…
 2 Tarfful     234   136 brown      brown      blue              NA male  mascu…
 3 Raymus …    188    79 brown      light      brown             NA male  mascu…
 4 Sly Moo…    178    48 none       pale       white             NA &lt;NA&gt;  &lt;NA&gt;  
 5 Tion Me…    206    80 none       grey       black             NA male  mascu…
 6 Finn         NA    NA black      dark       dark              NA male  mascu…
 7 Rey          NA    NA brown      light      hazel             NA fema… femin…
 8 Poe Dam…     NA    NA brown      light      brown             NA male  mascu…
 9 BB8          NA    NA none       none       black             NA none  mascu…
10 Captain…     NA    NA none       none       unknown           NA fema… femin…
# ℹ 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,
#   vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
<!------ ARRANGE ----------------------------------------------------------->
</section>
</section>
<section id="joins" class="level3" data-number="14.3.9">
<h3 data-number="14.3.9" class="anchored" data-anchor-id="joins"><span class="header-section-number">14.3.9</span> Joins</h3>
<p>Joins are used to combine data from two data frames (or tibbles) based on matching values in specified columns. They are fundamental operations for data manipulation, allowing you to bring together information from different sources into a single dataset.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Paul"</span>, <span class="st">"Jamy"</span>, <span class="st">"Wendy"</span>, <span class="st">"David"</span>),</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">score =</span> <span class="fu">c</span>(<span class="dv">85</span>, <span class="dv">90</span>, <span class="dv">88</span>, <span class="dv">92</span>)</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>df1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id name  score
  &lt;int&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Paul     85
2     2 Jamy     90
3     3 Wendy    88
4     4 David    92</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">subject =</span> <span class="fu">c</span>(<span class="st">"Math"</span>, <span class="st">"Science"</span>, <span class="st">"History"</span>, <span class="st">"Art"</span>),</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">grade =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"B+"</span>, <span class="st">"A-"</span>)</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id subject grade
  &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
1     2 Math    A    
2     3 Science B    
3     4 History B+   
4     5 Art     A-   </code></pre>
</div>
</div>
<section id="inner_join" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="inner_join">inner_join</h4>
<p>This returns rows with matching values in both data frames.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-58"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-58" data-target-annotation="1">1</button><span id="annotated-cell-58-1" class="code-annotation-target"><a href="#annotated-cell-58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(df1, df2, <span class="at">by =</span> <span class="st">"id"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-58" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-58" data-code-lines="1" data-code-annotation="1">Only rows with matching id values in both <code>df1</code> and <code>df2</code> are returned.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
     id name  score subject grade
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
1     2 Jamy     90 Math    A    
2     3 Wendy    88 Science B    
3     4 David    92 History B+   </code></pre>
</div>
</div>
</section>
<section id="left_join" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="left_join">left_join</h4>
<p>This returns all rows from the left data frame and matching rows from the right data frame. All rows from the left data frame (df1) will be matched rows from the right data frame (df2). If there’s no match, <code>NA</code> is returned for columns from the right data frame.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-59"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-59" data-target-annotation="1">1</button><span id="annotated-cell-59-1" class="code-annotation-target"><a href="#annotated-cell-59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">left_join</span>(df1, df2, <span class="at">by =</span> <span class="st">"id"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-59" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-59" data-code-lines="1" data-code-annotation="1">All rows from <code>df1</code> are kept. For id = 1, there’s no match in <code>df2</code>, so <code>NA</code> values are filled in for subject and grade.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 5
     id name  score subject grade
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
1     1 Paul     85 &lt;NA&gt;    &lt;NA&gt; 
2     2 Jamy     90 Math    A    
3     3 Wendy    88 Science B    
4     4 David    92 History B+   </code></pre>
</div>
</div>
</section>
<section id="right_join" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="right_join">right_join</h4>
<p>This returns all rows from the right data frame and matching rows from the left data frame. all rows from the right data frame (df2) will be matched rows from the left data frame (df1). If there’s no match, <code>NA</code> is returned for columns from the left data frame.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-60"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-60" data-target-annotation="1">1</button><span id="annotated-cell-60-1" class="code-annotation-target"><a href="#annotated-cell-60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">right_join</span>(df1, df2, <span class="at">by =</span> <span class="st">"id"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-60" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-60" data-code-lines="1" data-code-annotation="1">All rows from <code>df2</code> are kept. For id = 5, there’s no match in <code>df1</code>, so NA values are filled in for name and score.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 5
     id name  score subject grade
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
1     2 Jamy     90 Math    A    
2     3 Wendy    88 Science B    
3     4 David    92 History B+   
4     5 &lt;NA&gt;     NA Art     A-   </code></pre>
</div>
</div>
</section>
<section id="full_join" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="full_join">full_join</h4>
<p>This returns all rows from both data frames, with matching rows combined. If there’s no match, <code>NA</code> is returned in the unmatched columns.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-61"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-61" data-target-annotation="1">1</button><span id="annotated-cell-61-1" class="code-annotation-target"><a href="#annotated-cell-61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">full_join</span>(df1, df2, <span class="at">by =</span> <span class="st">"id"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-61" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-61" data-code-lines="1" data-code-annotation="1">All rows from both df1 and df2 are included. For id = 1 and id = 5, missing values are filled with NA.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 5
     id name  score subject grade
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
1     1 Paul     85 &lt;NA&gt;    &lt;NA&gt; 
2     2 Jamy     90 Math    A    
3     3 Wendy    88 Science B    
4     4 David    92 History B+   
5     5 &lt;NA&gt;     NA Art     A-   </code></pre>
</div>
</div>
</section>
<section id="semi_join" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="semi_join">semi_join</h4>
<p>This returns rows from the left data frame that have matching values in the right data frame, without bringing columns from the right data frame. The <code>semi_join()</code> returns all rows from the left data frame (df1) that have a match in the right data frame (df2). It does not include any columns from the right data frame.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-62"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-62" data-target-annotation="1">1</button><span id="annotated-cell-62-1" class="code-annotation-target"><a href="#annotated-cell-62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">semi_join</span>(df1, df2, <span class="at">by =</span> <span class="st">"id"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-62" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-62" data-code-lines="1" data-code-annotation="1">Only rows from <code>df1</code> with id values that match <code>df2</code> are returned, without including columns from <code>df2.</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
     id name  score
  &lt;int&gt; &lt;chr&gt; &lt;dbl&gt;
1     2 Jamy     90
2     3 Wendy    88
3     4 David    92</code></pre>
</div>
</div>
</section>
<section id="anti_join" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="anti_join">anti_join</h4>
<p>This returns rows from the left data frame that do not have matching values in the right data frame. The <code>anti_join()</code> returns all rows from the left data frame (df1) that do not have a match in the right data frame (df2).</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-63"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-63" data-target-annotation="1">1</button><span id="annotated-cell-63-1" class="code-annotation-target"><a href="#annotated-cell-63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(df1, df2, <span class="at">by =</span> <span class="st">"id"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-63" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-63" data-code-lines="1" data-code-annotation="1">Only rows from <code>df1</code> where id does not match any value in <code>df2</code> are returned.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
     id name  score
  &lt;int&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 Paul     85</code></pre>
</div>
</div>
</section>
<section id="joining-with-different-column-names" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="joining-with-different-column-names">Joining with different column names</h4>
<p>If the columns you want to join by have different names in the two data frames, you can specify them as a named vector.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>df3 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">id1 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">value1 =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>)</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>df3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
    id1 value1
  &lt;dbl&gt; &lt;chr&gt; 
1     1 A     
2     2 B     
3     3 C     </code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>df4 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">id2 =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>),</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">value2 =</span> <span class="fu">c</span>(<span class="st">"X"</span>, <span class="st">"Y"</span>, <span class="st">"Z"</span>)</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>df4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
    id2 value2
  &lt;dbl&gt; &lt;chr&gt; 
1     2 X     
2     3 Y     
3     4 Z     </code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-66"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-66" data-target-annotation="1">1</button><span id="annotated-cell-66-1" class="code-annotation-target"><a href="#annotated-cell-66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(df3, df4, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"id1"</span> <span class="ot">=</span> <span class="st">"id2"</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-66" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-66" data-code-lines="1" data-code-annotation="1">Join using different column names ‘id1’ and ‘id2’</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
    id1 value1 value2
  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; 
1     2 B      X     
2     3 C      Y     </code></pre>
</div>
</div>
</section>
</section>
<section id="bind-row-column" class="level3" data-number="14.3.10">
<h3 data-number="14.3.10" class="anchored" data-anchor-id="bind-row-column"><span class="header-section-number">14.3.10</span> Bind row &amp; column</h3>
<p>You can combine multiple data frames (or tibbles) either by stacking them vertically (row-wise) or horizontally (column-wise).</p>
<section id="append-new-data-frames-by-row" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="append-new-data-frames-by-row">Append new data frames by row</h4>
<p>Also known as vertical concatenation, stacks multiple data frames on top of each other by rows, meaning it adds new observations to a dataset.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Jane"</span>, <span class="st">"Paul"</span>, <span class="st">"Jouel"</span>, <span class="st">"Ruth"</span>),</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">category =</span> <span class="fu">c</span>(<span class="st">"VIP"</span>, <span class="st">"Regular"</span>, <span class="st">"Premium"</span>, <span class="st">"VIP"</span>)</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id name  category
  &lt;int&gt; &lt;chr&gt; &lt;chr&gt;   
1     1 Jane  VIP     
2     2 Paul  Regular 
3     3 Jouel Premium 
4     4 Ruth  VIP     </code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>new_row_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>,</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Doe"</span>, <span class="st">"Peter"</span>),</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">category =</span> <span class="fu">c</span>(<span class="st">"Regular"</span>, <span class="st">"Premium"</span>)</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>new_row_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
     id name  category
  &lt;int&gt; &lt;chr&gt; &lt;chr&gt;   
1     5 Doe   Regular 
2     6 Peter Premium </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Similar columns and data-type
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>While combining data frames by rows using the function <code>bind_rows()</code>, it is important for the data frames to have the same number of columns.</p></li>
<li><p>The names of all columns in the data frames must be the same.</p></li>
<li><p>Lastly, the data type of each column must also be the same.</p></li>
</ul>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-69"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-69" data-target-annotation="1">1</button><span id="annotated-cell-69-1" class="code-annotation-target"><a href="#annotated-cell-69-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(df, new_row_df)</span>
<span id="annotated-cell-69-2"><a href="#annotated-cell-69-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-69-3"><a href="#annotated-cell-69-3" aria-hidden="true" tabindex="-1"></a>df</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-69" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-69" data-code-lines="1" data-code-annotation="1">Append the <code>new_row_df</code> data frame to the main data frame <code>df</code> by row.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
     id name  category
  &lt;int&gt; &lt;chr&gt; &lt;chr&gt;   
1     1 Jane  VIP     
2     2 Paul  Regular 
3     3 Jouel Premium 
4     4 Ruth  VIP     
5     5 Doe   Regular 
6     6 Peter Premium </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Handling different columns
</div>
</div>
<div class="callout-body-container callout-body">
<p>If the data frames have different columns, bind_rows() automatically fills missing values with NA.</p>
</div>
</div>
</section>
<section id="append-new-data-frames-by-column" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="append-new-data-frames-by-column">Append new data frames by column</h4>
<p>Also known as horizontal concatenation, joins multiple data frames by columns, meaning it adds new variables (columns) to a dataset. It is useful when you have different datasets with the same number of rows but different variables and want to combine them horizontally.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>new_col_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">total_order =</span> <span class="fu">sample</span>(<span class="fu">seq_len</span>(<span class="dv">15</span>), <span class="dv">6</span>)</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>new_col_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 1
  total_order
        &lt;int&gt;
1           9
2          10
3          12
4          13
5           2
6          15</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Different row counts
</div>
</div>
<div class="callout-body-container callout-body">
<p>If the data frames have different numbers of rows, <code>bind_cols()</code> will still combine them, but the shorter data frame will have NA values for the missing rows.</p>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-71"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-71" data-target-annotation="1">1</button><span id="annotated-cell-71-1" class="code-annotation-target"><a href="#annotated-cell-71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_cols</span>(df, new_col_df)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-71" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-71" data-code-lines="1" data-code-annotation="1">Append a new data frame <code>new_col_df</code> to the main data frame <code>df</code> by column.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
     id name  category total_order
  &lt;int&gt; &lt;chr&gt; &lt;chr&gt;          &lt;int&gt;
1     1 Jane  VIP                9
2     2 Paul  Regular           10
3     3 Jouel Premium           12
4     4 Ruth  VIP               13
5     5 Doe   Regular            2
6     6 Peter Premium           15</code></pre>
</div>
</div>
<p><br> <br> <br> <br> <!-------- Dplyr -------------------------------------------------------------></p>
</section>
</section>
</section>
<section id="stringr" class="level2" data-number="14.4">
<h2 data-number="14.4" class="anchored" data-anchor-id="stringr"><span class="header-section-number">14.4</span> {stringr}</h2>
<section id="string-length" class="level3" data-number="14.4.1">
<h3 data-number="14.4.1" class="anchored" data-anchor-id="string-length"><span class="header-section-number">14.4.1</span> String length</h3>
<p>The function <code>str_length()</code> helps retrieve the number of <code>elements</code> in a given string. These elements are usually letters.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-72"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-72" data-target-annotation="1">1</button><span id="annotated-cell-72-1" class="code-annotation-target"><a href="#annotated-cell-72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_length</span>(<span class="st">"Hello World"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-72" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-72" data-code-lines="1" data-code-annotation="1">Get the number of elements in the string ‘Hello World’</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11</code></pre>
</div>
</div>
<p><br></p>
</section>
<section id="case-format" class="level3" data-number="14.4.2">
<h3 data-number="14.4.2" class="anchored" data-anchor-id="case-format"><span class="header-section-number">14.4.2</span> Case format</h3>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>example_string <span class="ot">&lt;-</span> <span class="st">"worKIng wIth caSe"</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>example_string</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "worKIng wIth caSe"</code></pre>
</div>
</div>
<section id="upper-case" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="upper-case">Upper case</h4>
<p>Convert all strings to upper case.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-74"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-74" data-target-annotation="1">1</button><span id="annotated-cell-74-1" class="code-annotation-target"><a href="#annotated-cell-74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_to_upper</span>(example_string)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-74" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-74" data-code-lines="1" data-code-annotation="1">Change the <code>example_string</code> value to upper case.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "WORKING WITH CASE"</code></pre>
</div>
</div>
</section>
<section id="lower-case" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="lower-case">Lower case</h4>
<p>Convert all strings to lower case.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-75"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-75" data-target-annotation="1">1</button><span id="annotated-cell-75-1" class="code-annotation-target"><a href="#annotated-cell-75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_to_lower</span>(example_string)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-75" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-75" data-code-lines="1" data-code-annotation="1">Change the <code>example_string</code> value to lower case</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "working with case"</code></pre>
</div>
</div>
</section>
<section id="title-case" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="title-case">title case</h4>
<p>Convert all strings to a title case, where the first letter of each word is capitalized.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-76"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-76" data-target-annotation="1">1</button><span id="annotated-cell-76-1" class="code-annotation-target"><a href="#annotated-cell-76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_to_title</span>(example_string)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-76" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-76" data-code-lines="1" data-code-annotation="1">Change the <code>example_string</code> value to a title case.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Working With Case"</code></pre>
</div>
</div>
</section>
<section id="sentence-case" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="sentence-case">Sentence case</h4>
<p>Convert the string to a sentence case, where only the first letter of sentence is capitalized.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-77"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-77" data-target-annotation="1">1</button><span id="annotated-cell-77-1" class="code-annotation-target"><a href="#annotated-cell-77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_to_sentence</span>(example_string)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-77" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-77" data-code-lines="1" data-code-annotation="1">Change the <code>example_string</code> value to a sentence case.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Working with case"</code></pre>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="detect-the-presence-of-a-match" class="level3" data-number="14.4.3">
<h3 data-number="14.4.3" class="anchored" data-anchor-id="detect-the-presence-of-a-match"><span class="header-section-number">14.4.3</span> Detect the presence of a match</h3>
<p>When using the <code>str_detect()</code> function to detect the presence of a match it returns a logical vector with <code>TRUE</code> for each element of string that matches pattern and <code>FALSE</code> otherwise.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-78"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-78" data-target-annotation="1">1</button><span id="annotated-cell-78-1" class="code-annotation-target"><a href="#annotated-cell-78-1" aria-hidden="true" tabindex="-1"></a>status <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Success"</span>, <span class="st">"Failed"</span>, <span class="st">"Success"</span>, <span class="st">"Processing"</span>, <span class="st">"success"</span>)</span>
<span id="annotated-cell-78-2"><a href="#annotated-cell-78-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-78-3"><a href="#annotated-cell-78-3" aria-hidden="true" tabindex="-1"></a>status</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-78" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-78" data-code-lines="1" data-code-annotation="1">Create a vector of strings</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Success"    "Failed"     "Success"    "Processing" "success"   </code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-79"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-79" data-target-annotation="1">1</button><span id="annotated-cell-79-1" class="code-annotation-target"><a href="#annotated-cell-79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(status, <span class="st">"Success"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-79" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-79" data-code-lines="1" data-code-annotation="1">Check if the value “Success” is in any of the values in <code>status</code>.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  TRUE FALSE  TRUE FALSE FALSE</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Case sensitive
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <code>str_detect()</code> is case sensitive like most functions in the {stringr} package. It is important to use the appropriate type of case to avoid misleading results like the case of the last “success” string above.</p>
</div>
</div>
<p><br></p>
</section>
<section id="subset-string" class="level3" data-number="14.4.4">
<h3 data-number="14.4.4" class="anchored" data-anchor-id="subset-string"><span class="header-section-number">14.4.4</span> Subset string</h3>
<p>Find and extract matching elements from a string that match a specified pattern.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-80"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-80" data-target-annotation="1">1</button><span id="annotated-cell-80-1" class="code-annotation-target"><a href="#annotated-cell-80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(status, <span class="st">'S'</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-80" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-80" data-code-lines="1" data-code-annotation="1">Extract only string with a capital letter <code>S</code> in <code>status</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Success" "Success"</code></pre>
</div>
</div>
<p><strong>Using regular expression:</strong></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-81"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-81" data-target-annotation="1">1</button><span id="annotated-cell-81-1" class="code-annotation-target"><a href="#annotated-cell-81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(status, <span class="st">'^P'</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-81" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-81" data-code-lines="1" data-code-annotation="1">Extract status starting with the letter “P”</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Processing"</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-82"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-82" data-target-annotation="1">1</button><span id="annotated-cell-82-1" class="code-annotation-target"><a href="#annotated-cell-82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(status, <span class="st">'d$'</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-82" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-82" data-code-lines="1" data-code-annotation="1">Extract only strings that ends with a letter “d”.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Failed"</code></pre>
</div>
</div>
<p><br></p>
</section>
<section id="extract-a-match" class="level3" data-number="14.4.5">
<h3 data-number="14.4.5" class="anchored" data-anchor-id="extract-a-match"><span class="header-section-number">14.4.5</span> Extract a match</h3>
<p>The function <code>str_extract()</code> is specifically used to extract the first match of a specified pattern from each element of a character vector.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>shopping_list <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Orange x2"</span>, <span class="st">"A bag of beans"</span>, <span class="st">"1 pack of sugar"</span>, <span class="st">"Milk x4"</span>)</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>shopping_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Orange x2"       "A bag of beans"  "1 pack of sugar" "Milk x4"        </code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract</span>(shopping_list, <span class="st">"</span><span class="sc">\\</span><span class="st">d"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2" NA  "1" "4"</code></pre>
</div>
</div>
<p><br></p>
</section>
<section id="interpolating-strings" class="level3" data-number="14.4.6">
<h3 data-number="14.4.6" class="anchored" data-anchor-id="interpolating-strings"><span class="header-section-number">14.4.6</span> Interpolating strings</h3>
<p>The <code>str_glue()</code> provides elegant syntax to create formatted strings by embedding variable values directly within the string. This allows for dynamic string creation based on variable content.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>name <span class="ot">&lt;-</span> <span class="st">"John"</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str_glue</span>(<span class="st">"My name is {name} and I'm {age} years old."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>My name is John and I'm 30 years old.</code></pre>
</div>
</div>
<section id="named-arguments" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="named-arguments">Named arguments</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_glue</span>(</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"My name is {name}, and my age next year will be {age + 1}."</span>, </span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">"Joe"</span>, </span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">age =</span> <span class="dv">40</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>My name is Joe, and my age next year will be 41.</code></pre>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="remove-matched-patterns-from-string" class="level3" data-number="14.4.7">
<h3 data-number="14.4.7" class="anchored" data-anchor-id="remove-matched-patterns-from-string"><span class="header-section-number">14.4.7</span> Remove matched patterns from string</h3>
<section id="str_remove" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="str_remove">str_remove</h4>
<p>The <code>str_remove()</code> function is used to remove the first occurrence of a specified pattern from each string in a character vector.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>status <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Status: Success"</span>, <span class="st">"Status: Processing"</span>)</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_remove</span>(status, <span class="st">"Status: "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Success"    "Processing"</code></pre>
</div>
</div>
</section>
<section id="str_remove_all" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="str_remove_all">str_remove_all</h4>
<p>The <code>str_remove_all()</code> function extends the functionality of <code>str_remove()</code> by removing all occurrences of a specified pattern from each string in a character vector.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>amount <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"194,450,000"</span>, <span class="st">"278,574,789"</span>, <span class="st">"120,245,658"</span>)</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_remove_all</span>(amount, <span class="st">","</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "194450000" "278574789" "120245658"</code></pre>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="replace-matches-with-a-new-string" class="level3" data-number="14.4.8">
<h3 data-number="14.4.8" class="anchored" data-anchor-id="replace-matches-with-a-new-string"><span class="header-section-number">14.4.8</span> Replace matches with a new string</h3>
<section id="replace-a-single-first-match" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="replace-a-single-first-match">Replace a single (first) match</h4>
<p>The <code>str_replace()</code> function is used to replace the first occurrence of a pattern in a string with a specified replacement.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>amount <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"S100"</span>, <span class="st">"S200"</span>, <span class="st">"S300"</span>)</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace</span>(amount, <span class="st">"S"</span>, <span class="st">"$"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "$100" "$200" "$300"</code></pre>
</div>
</div>
</section>
<section id="replace-a-multiple-matches" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="replace-a-multiple-matches">Replace a multiple matches</h4>
<p>The <code>str_replace_all()</code> function serves a similar purpose but replaces all occurrences of a pattern within a string or vector of strings.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace_all</span>(amount, <span class="st">"S"</span>, <span class="st">"$"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "$100" "$200" "$300"</code></pre>
</div>
</div>
</section>
</section>
<section id="split-string-into-serveral-part" class="level3" data-number="14.4.9">
<h3 data-number="14.4.9" class="anchored" data-anchor-id="split-string-into-serveral-part"><span class="header-section-number">14.4.9</span> Split string into serveral part</h3>
<p>The <code>str_split()</code> can divide a character vector into substrings based on a specified pattern.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>fruits <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"apples and oranges and bananas and pears"</span>)</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_split</span>(fruits, <span class="st">" and "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "apples"  "oranges" "bananas" "pears"  </code></pre>
</div>
</div>
<p><br></p>
</section>
<section id="remove-whitespace" class="level3" data-number="14.4.10">
<h3 data-number="14.4.10" class="anchored" data-anchor-id="remove-whitespace"><span class="header-section-number">14.4.10</span> Remove whitespace</h3>
<p>Use the <code>str_trim()</code> removes whitespace from start and end of string.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>whitespace_str <span class="ot">&lt;-</span> <span class="st">" Complete "</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>whitespace_str</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] " Complete "</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-93"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-93-1"><a href="#annotated-cell-93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Left trim                         </span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-93" data-target-annotation="1">1</button><span id="annotated-cell-93-2" class="code-annotation-target"><a href="#annotated-cell-93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_trim</span>(whitespace_str, <span class="at">side =</span> <span class="st">"left"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-93" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-93" data-code-lines="2" data-code-annotation="1">Remove leading whitespace.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Complete "</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-94"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-94-1"><a href="#annotated-cell-94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Right trim</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-94" data-target-annotation="1">1</button><span id="annotated-cell-94-2" class="code-annotation-target"><a href="#annotated-cell-94-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_trim</span>(whitespace_str, <span class="at">side =</span> <span class="st">"right"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-94" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-94" data-code-lines="2" data-code-annotation="1">Remove trailing whitespace.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] " Complete"</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-95"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-95" data-target-annotation="1">1</button><span id="annotated-cell-95-1" class="code-annotation-target"><a href="#annotated-cell-95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_trim</span>(whitespace_str, <span class="at">side =</span> <span class="st">"both"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-95" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-95" data-code-lines="1" data-code-annotation="1">Remove both leading and trailing whitespace.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Complete"</code></pre>
</div>
</div>
<p><br> <br> <br> <br> <!----- Stringr ------------------------------------------------------------></p>
</section>
</section>
<section id="tidyr" class="level2" data-number="14.5">
<h2 data-number="14.5" class="anchored" data-anchor-id="tidyr"><span class="header-section-number">14.5</span> {tidyr}</h2>
<section id="drop-rows-containing-missing-values" class="level3" data-number="14.5.1">
<h3 data-number="14.5.1" class="anchored" data-anchor-id="drop-rows-containing-missing-values"><span class="header-section-number">14.5.1</span> Drop rows containing missing values</h3>
<p>The <code>drop_na()</code> function is to remove rows from a data frame where any specified columns contain missing values (NA). If no specific columns are indicated, it will check all columns by default.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>,</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="fu">sample</span>(<span class="fu">seq_len</span>(<span class="dv">1000</span>), <span class="dv">5</span>), <span class="cn">NA</span>, <span class="cn">NA</span>),</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">z =</span> <span class="fu">c</span>(<span class="cn">NA</span>, LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>])</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 3
      x     y z    
  &lt;int&gt; &lt;int&gt; &lt;chr&gt;
1     1    NA &lt;NA&gt; 
2     2   736 A    
3     3    28 B    
4     4     2 C    
5     5   931 D    
6     6   183 E    
7     7    NA F    
8     8    NA G    </code></pre>
</div>
</div>
<section id="drop-all-missing-values" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="drop-all-missing-values">Drop all missing values</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-97"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-97" data-target-annotation="1">1</button><span id="annotated-cell-97-1" class="code-annotation-target"><a href="#annotated-cell-97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">drop_na</span>(df)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-97" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-97" data-code-lines="1" data-code-annotation="1">The resulting data frame will only include rows where there are no <code>NAs</code> in any column.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
      x     y z    
  &lt;int&gt; &lt;int&gt; &lt;chr&gt;
1     2   736 A    
2     3    28 B    
3     4     2 C    
4     5   931 D    
5     6   183 E    </code></pre>
</div>
</div>
</section>
<section id="selecting-specific-columns" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="selecting-specific-columns">Selecting specific columns</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-98"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-98" data-target-annotation="1">1</button><span id="annotated-cell-98-1" class="code-annotation-target"><a href="#annotated-cell-98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">drop_na</span>(df, z)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-98" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-98" data-code-lines="1" data-code-annotation="1">This will remove rows where column ‘z’ has <code>NA</code> values while ignoring other columns.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 3
      x     y z    
  &lt;int&gt; &lt;int&gt; &lt;chr&gt;
1     2   736 A    
2     3    28 B    
3     4     2 C    
4     5   931 D    
5     6   183 E    
6     7    NA F    
7     8    NA G    </code></pre>
</div>
</div>
</section>
</section>
<section id="reshaping-data" class="level3" data-number="14.5.2">
<h3 data-number="14.5.2" class="anchored" data-anchor-id="reshaping-data"><span class="header-section-number">14.5.2</span> Reshaping data</h3>
<p>Reshaping data refers to the process of transforming data from one format to another. The two primary formats are “long” and “wide.” In a long format, each observation is represented in a single row, while in a wide format, multiple observations are spread across several columns. Reshaping allows analysts to manipulate datasets more effectively by organizing them into the desired structure for specific analyses or visualizations.</p>
<section id="pivot_longer" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="pivot_longer">pivot_longer</h4>
<p>This function is used to convert data from wide format to long format. It takes multiple columns that represent different variables and collapses them into key-value pairs.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">id_col =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">&lt;15</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">100</span><span class="sc">:</span><span class="dv">10000</span>, <span class="dv">3</span>),</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">16-35</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">1000</span><span class="sc">:</span><span class="dv">50000</span>, <span class="dv">3</span>),</span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">36-55</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">5000</span><span class="sc">:</span><span class="dv">100000</span>, <span class="dv">3</span>),</span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">56&gt;</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">5000</span><span class="sc">:</span><span class="dv">1000000</span>, <span class="dv">3</span>)</span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
  id_col `&lt;15` `16-35` `36-55`  `56&gt;`
   &lt;int&gt; &lt;int&gt;   &lt;int&gt;   &lt;int&gt;  &lt;int&gt;
1      1  3674   27747   63520 835322
2      2  4984   36182   66070 130289
3      3  5476   24777   30575 398413</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_longer</span>(df, <span class="sc">!</span>id_col, <span class="at">names_to =</span> <span class="st">"age"</span>, <span class="at">values_to =</span> <span class="st">"income"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 3
   id_col age   income
    &lt;int&gt; &lt;chr&gt;  &lt;int&gt;
 1      1 &lt;15     3674
 2      1 16-35  27747
 3      1 36-55  63520
 4      1 56&gt;   835322
 5      2 &lt;15     4984
 6      2 16-35  36182
 7      2 36-55  66070
 8      2 56&gt;   130289
 9      3 &lt;15     5476
10      3 16-35  24777
11      3 36-55  30575
12      3 56&gt;   398413</code></pre>
</div>
</div>
</section>
<section id="pivot_wider" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="pivot_wider">pivot_wider</h4>
<p>This function spreads key-value pairs across multiple columns based on unique values from one or more columns.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">id_col =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="fu">rep</span>(<span class="dv">2</span>, <span class="dv">3</span>), <span class="fu">rep</span>(<span class="dv">3</span>, <span class="dv">3</span>)),</span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">state =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Lagos"</span>, <span class="st">"Kano"</span>, <span class="st">"Akwa Ibom"</span>), <span class="dv">3</span>),</span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">market_size =</span> <span class="fu">sample</span>(<span class="dv">15</span><span class="sc">:</span><span class="dv">25</span>, <span class="dv">9</span>)</span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_wider</span>(df, <span class="at">names_from =</span> state, <span class="at">values_from =</span> market_size)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  id_col Lagos  Kano `Akwa Ibom`
   &lt;dbl&gt; &lt;int&gt; &lt;int&gt;       &lt;int&gt;
1      1    19    23          21
2      2    16    17          20
3      3    25    22          18</code></pre>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="separate-character-column-values" class="level3" data-number="14.5.3">
<h3 data-number="14.5.3" class="anchored" data-anchor-id="separate-character-column-values"><span class="header-section-number">14.5.3</span> Separate character column values</h3>
<p>Separating a character column into multiple columns is a common data manipulation task, especially when dealing with datasets that contain concatenated or delimited strings.</p>
<section id="separate-character-column-into-multiple-columns" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="separate-character-column-into-multiple-columns">Separate character column into multiple columns</h4>
<p>This takes a single column containing combined values and splits it into multiple columns based on a specified delimiter.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">id_col =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">x =</span> <span class="fu">c</span>(<span class="st">"Lagos-789"</span>, <span class="st">"Ondo-4568"</span>, <span class="st">"Oyo-2478"</span>))</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  id_col x        
   &lt;int&gt; &lt;chr&gt;    
1      1 Lagos-789
2      2 Ondo-4568
3      3 Oyo-2478 </code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-104"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-104-1"><a href="#annotated-cell-104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">separate_wider_delim</span>(</span>
<span id="annotated-cell-104-2"><a href="#annotated-cell-104-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> df, </span>
<span id="annotated-cell-104-3"><a href="#annotated-cell-104-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">cols =</span> x, </span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-104" data-target-annotation="1">1</button><span id="annotated-cell-104-4" class="code-annotation-target"><a href="#annotated-cell-104-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">delim =</span> <span class="st">"-"</span>,</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-104" data-target-annotation="2">2</button><span id="annotated-cell-104-5" class="code-annotation-target"><a href="#annotated-cell-104-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"state"</span>, <span class="st">"participant"</span>)</span>
<span id="annotated-cell-104-6"><a href="#annotated-cell-104-6" aria-hidden="true" tabindex="-1"></a>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-104" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-104" data-code-lines="4" data-code-annotation="1">Split the value in the column using the “-” sign.</span>
</dd>
<dt data-target-cell="annotated-cell-104" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-104" data-code-lines="5" data-code-annotation="2">Assign the new column names of the splitted values.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  id_col state participant
   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;      
1      1 Lagos 789        
2      2 Ondo  4568       
3      3 Oyo   2478       </code></pre>
</div>
</div>
</section>
<section id="separate-character-column-into-multiple-rows" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="separate-character-column-into-multiple-rows">Separate character column into multiple rows</h4>
<p>This takes a single column containing combined values and splits it into multiple rows based on a specified delimiter.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">id_col =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="st">"one"</span>, <span class="st">"one two"</span>, <span class="st">"one two"</span>)</span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  id_col x      
   &lt;int&gt; &lt;chr&gt;  
1      1 one    
2      2 one two
3      3 one two</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">separate_longer_delim</span>(df, x, <span class="at">delim =</span> <span class="st">" "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  id_col x    
   &lt;int&gt; &lt;chr&gt;
1      1 one  
2      2 one  
3      2 two  
4      3 one  
5      3 two  </code></pre>
</div>
</div>
</section>
</section>
<section id="unite-multiple-columns-into-sigle-column" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="unite-multiple-columns-into-sigle-column">Unite multiple columns into sigle column</h3>
<p>Uniting multiple columns into a single column is a common data manipulation task that allows you to combine information from different columns into one.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">apartment =</span> <span class="fu">c</span>(<span class="st">"478 Apt"</span>, <span class="st">"Floor 54 Apt"</span>, <span class="st">"kent 78 Apt"</span>),</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">street =</span> <span class="fu">c</span>(<span class="st">"apex St."</span>, <span class="st">"clary St."</span>, <span class="st">"cover St."</span>)</span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  apartment    street   
  &lt;chr&gt;        &lt;chr&gt;    
1 478 Apt      apex St. 
2 Floor 54 Apt clary St.
3 kent 78 Apt  cover St.</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-108"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-108-1"><a href="#annotated-cell-108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unite</span>(</span>
<span id="annotated-cell-108-2"><a href="#annotated-cell-108-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> df,</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-108" data-target-annotation="1">1</button><span id="annotated-cell-108-3" class="code-annotation-target"><a href="#annotated-cell-108-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> <span class="st">"address"</span>,</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-108" data-target-annotation="2">2</button><span id="annotated-cell-108-4" class="code-annotation-target"><a href="#annotated-cell-108-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(apartment, street),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-108" data-target-annotation="3">3</button><span id="annotated-cell-108-5" class="code-annotation-target"><a href="#annotated-cell-108-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">sep =</span> <span class="st">", "</span></span>
<span id="annotated-cell-108-6"><a href="#annotated-cell-108-6" aria-hidden="true" tabindex="-1"></a>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-108" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-108" data-code-lines="3" data-code-annotation="1">The name of the new column.</span>
</dd>
<dt data-target-cell="annotated-cell-108" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-108" data-code-lines="4" data-code-annotation="2">The variables to combine into one.</span>
</dd>
<dt data-target-cell="annotated-cell-108" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-108" data-code-lines="5" data-code-annotation="3">The separator to use between values.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 1
  address                
  &lt;chr&gt;                  
1 478 Apt, apex St.      
2 Floor 54 Apt, clary St.
3 kent 78 Apt, cover St. </code></pre>
</div>
</div>
</section>
</section>
<section id="purrr" class="level2" data-number="14.6">
<h2 data-number="14.6" class="anchored" data-anchor-id="purrr"><span class="header-section-number">14.6</span> {purrr}</h2>
<p>The <code>map()</code> function is an important part of the purrr package just like <code>lapply()</code> in base R, it allows users to apply a specified function to each element of a list or atomic vector and returns a list containing the results.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Functionality
</div>
</div>
<div class="callout-body-container callout-body">
<p>The primary input to <code>map()</code> is a list or atomic vector (.x), and it takes a function (.f) that will be applied to each element of .x. The output is always a list, regardless of the type of input.</p>
</div>
</div>
<p><strong>Example:</strong></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-109"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-109" data-target-annotation="1">1</button><span id="annotated-cell-109-1" class="code-annotation-target"><a href="#annotated-cell-109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, \(x) x <span class="sc">*</span> <span class="dv">2</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-109" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-109" data-code-lines="1" data-code-annotation="1">multiply each number from 1 to 10 by 2 and returns a list with the results.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 2

[[2]]
[1] 4

[[3]]
[1] 6

[[4]]
[1] 8

[[5]]
[1] 10

[[6]]
[1] 12

[[7]]
[1] 14

[[8]]
[1] 16

[[9]]
[1] 18

[[10]]
[1] 20</code></pre>
</div>
</div>
<section id="other-variants-of-map" class="level3" data-number="14.6.1">
<h3 data-number="14.6.1" class="anchored" data-anchor-id="other-variants-of-map"><span class="header-section-number">14.6.1</span> Other variants of map()</h3>
<section id="map-logical" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="map-logical">Map logical</h4>
<p>The <code>map_lgl()</code> function is expected to return a logical vector.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-110"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-110" data-target-annotation="1">1</button><span id="annotated-cell-110-1" class="code-annotation-target"><a href="#annotated-cell-110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map_lgl</span>(<span class="fu">list</span>(<span class="dv">1</span>, <span class="cn">NA</span>, <span class="dv">2</span>), \(x) <span class="fu">is.na</span>(x))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-110" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-110" data-code-lines="1" data-code-annotation="1">Check whether any of the values in the vector is <code>NA</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE FALSE</code></pre>
</div>
</div>
</section>
<section id="map-integer" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="map-integer">Map integer</h4>
<p>Using the <code>map_int()</code> function returns an integer vector.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-111"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-111" data-target-annotation="1">1</button><span id="annotated-cell-111-1" class="code-annotation-target"><a href="#annotated-cell-111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map_int</span>(<span class="fu">list</span>(<span class="fl">10.478</span>, <span class="fl">10.5478</span>, <span class="fl">11.2478</span>), \(x) <span class="fu">round</span>(x <span class="sc">*</span> <span class="dv">100</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-111" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-111" data-code-lines="1" data-code-annotation="1">Multiply each items in the list by 100 and round them up.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1048 1055 1125</code></pre>
</div>
</div>
</section>
<section id="map-double" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="map-double">Map double</h4>
<p>The <code>map_dbl()</code> is useful for returning a double vector.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-112"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-112" data-target-annotation="1">1</button><span id="annotated-cell-112-1" class="code-annotation-target"><a href="#annotated-cell-112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map_dbl</span>(<span class="fu">list</span>(<span class="fl">10.478</span>, <span class="fl">10.5478</span>, <span class="fl">11.2478</span>), \(x) <span class="fu">round</span>(x <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-112" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-112" data-code-lines="1" data-code-annotation="1">Multiply each items in the list by 100 and round them up to two decimal place.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1047.80 1054.78 1124.78</code></pre>
</div>
</div>
</section>
<section id="map-character" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="map-character">Map character</h4>
<p>The function <code>map_chr()</code> helps return a character vector.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-113"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-113-1"><a href="#annotated-cell-113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map_chr</span>(</span>
<span id="annotated-cell-113-2"><a href="#annotated-cell-113-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(<span class="st">"sTate"</span>, <span class="st">"ZONe"</span>, <span class="st">"COunTrY"</span>, <span class="st">"contineNT"</span>),</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-113" data-target-annotation="1">1</button><span id="annotated-cell-113-3" class="code-annotation-target"><a href="#annotated-cell-113-3" aria-hidden="true" tabindex="-1"></a>  \(x) <span class="fu">str_to_title</span>(x)</span>
<span id="annotated-cell-113-4"><a href="#annotated-cell-113-4" aria-hidden="true" tabindex="-1"></a>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-113" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-113" data-code-lines="3" data-code-annotation="1">Convert each character items in the list to a title case.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "State"     "Zone"      "Country"   "Continent"</code></pre>
</div>
</div>
</section>
</section>
<section id="list-manipulation" class="level3" data-number="14.6.2">
<h3 data-number="14.6.2" class="anchored" data-anchor-id="list-manipulation"><span class="header-section-number">14.6.2</span> list manipulation</h3>
<section id="keep-values-based-on-a-condition" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="keep-values-based-on-a-condition">Keep values based on a condition</h4>
<p>The <code>keep()</code> function returns elements of a list or vector that satisfy a specified condition</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>full_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">50</span>, <span class="dv">80</span>), <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">30</span>, <span class="dv">50</span>))</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a>full_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 20 50 80

[[2]]
[1] 10 30 50</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-115"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-115" data-target-annotation="1">1</button><span id="annotated-cell-115-1" class="code-annotation-target"><a href="#annotated-cell-115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">keep</span>(full_list, \(x) <span class="fu">mean</span>(x) <span class="sc">&gt;</span> <span class="dv">40</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-115" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-115" data-code-lines="1" data-code-annotation="1">Return the vector where the average value is greater than 40.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 20 50 80</code></pre>
</div>
</div>
</section>
<section id="discard-values-based-on-a-condition" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="discard-values-based-on-a-condition">discard values based on a condition</h4>
<p>The <code>discard()</code> function is the opposite of <code>keep()</code> and it removes elements that satisfy a condition.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-116"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-116" data-target-annotation="1">1</button><span id="annotated-cell-116-1" class="code-annotation-target"><a href="#annotated-cell-116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">discard</span>(full_list, \(x) <span class="fu">min</span>(x) <span class="sc">&gt;</span> <span class="dv">15</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-116" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-116" data-code-lines="1" data-code-annotation="1">Drop the vector where the minimum value is greater than 15</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 10 30 50</code></pre>
</div>
</div>
</section>
<section id="safely-get-element-deep-within-a-nested-list" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="safely-get-element-deep-within-a-nested-list">Safely get element deep within a nested list</h4>
<p>The <code>pluck()</code> function can extracts elements from deeply nested lists or data structures.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>nested_list <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">a =</span> <span class="fu">list</span>(<span class="at">ax =</span> <span class="fu">list</span>(<span class="at">ay =</span> <span class="dv">5</span>)), </span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">b =</span> <span class="fu">list</span>(<span class="at">bx =</span> <span class="fu">list</span>(<span class="at">by =</span> <span class="dv">20</span>))</span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-6"><a href="#cb150-6" aria-hidden="true" tabindex="-1"></a>nested_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>$a
$a$ax
$a$ax$ay
[1] 5



$b
$b$bx
$b$bx$by
[1] 20</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-118"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-118" data-target-annotation="1">1</button><span id="annotated-cell-118-1" class="code-annotation-target"><a href="#annotated-cell-118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pluck</span>(nested_list, <span class="st">"a"</span>, <span class="st">"ax"</span>, <span class="st">"ay"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-118" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-118" data-code-lines="1" data-code-annotation="1">Extract the value assigned to the name ay in the nested list.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<p><br> <br> <br> <br> <!-------- Purrr -------------------------------------------------------------></p>
</section>
</section>
</section>
<section id="lubridate" class="level2" data-number="14.7">
<h2 data-number="14.7" class="anchored" data-anchor-id="lubridate"><span class="header-section-number">14.7</span> {lubridate}</h2>
<p>The <code>lubridate</code> package in R simplifies handling and manipulating dates and times. It has several functions for parsing, manipulating, and performing operations on dates and times. This makes handling dates less error-prone, with a clear syntax that allows you to handle real-world complexities</p>
<section id="parsing-dates" class="level3" data-number="14.7.1">
<h3 data-number="14.7.1" class="anchored" data-anchor-id="parsing-dates"><span class="header-section-number">14.7.1</span> Parsing dates</h3>
<p>There are different functions that can parse strings into date objects, including:</p>
<section id="as_date" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="as_date">as_date</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-119"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-119" data-target-annotation="1">1</button><span id="annotated-cell-119-1" class="code-annotation-target"><a href="#annotated-cell-119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as_date</span>(<span class="st">"2023/05/23"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-119" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-119" data-code-lines="1" data-code-annotation="1">Parse the string “2023/05/23” to a date object.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-05-23"</code></pre>
</div>
</div>
</section>
<section id="year-month-day" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="year-month-day">year-month-day</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-120"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-120" data-target-annotation="1">1</button><span id="annotated-cell-120-1" class="code-annotation-target"><a href="#annotated-cell-120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="st">"2023-02-25"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-120" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-120" data-code-lines="1" data-code-annotation="1">Parse the string “2023-02-25” to a date object using the helper function <code>ymd()</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-02-25"</code></pre>
</div>
</div>
</section>
<section id="year-day-month" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="year-day-month">year-day-month</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-121"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-121" data-target-annotation="1">1</button><span id="annotated-cell-121-1" class="code-annotation-target"><a href="#annotated-cell-121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ydm</span>(<span class="st">"2023-25-02"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-121" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-121" data-code-lines="1" data-code-annotation="1">Parse the string “2023-25-02” to a date object using the helper function <code>ydm()</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-02-25"</code></pre>
</div>
</div>
</section>
<section id="month-day-year" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="month-day-year">month-day-year</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-122"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-122" data-target-annotation="1">1</button><span id="annotated-cell-122-1" class="code-annotation-target"><a href="#annotated-cell-122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mdy</span>(<span class="st">"12-25-2021"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-122" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-122" data-code-lines="1" data-code-annotation="1">Parse the string “12-25-2021” to a date object using the helper function <code>mdy()</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2021-12-25"</code></pre>
</div>
</div>
</section>
<section id="month-year-day" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="month-year-day">month-year-day</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-123"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-123" data-target-annotation="1">1</button><span id="annotated-cell-123-1" class="code-annotation-target"><a href="#annotated-cell-123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">myd</span>(<span class="st">"12-2023-09"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-123" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-123" data-code-lines="1" data-code-annotation="1">Parse the string “12-2023-09” to a date object using the helper function <code>myd()</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-12-09"</code></pre>
</div>
</div>
</section>
<section id="day-month-year" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="day-month-year">day-month-year</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-124"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-124" data-target-annotation="1">1</button><span id="annotated-cell-124-1" class="code-annotation-target"><a href="#annotated-cell-124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dmy</span>(<span class="st">"05-23-2022"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-124" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-124" data-code-lines="1" data-code-annotation="1">Parse the string “05-23-2022” to a date object using the helper function <code>dmy()</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
</section>
<section id="day-year-month" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="day-year-month">day-year-month</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-125"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-125" data-target-annotation="1">1</button><span id="annotated-cell-125-1" class="code-annotation-target"><a href="#annotated-cell-125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dym</span>(<span class="st">"05-2022-08"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-125" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-125" data-code-lines="1" data-code-annotation="1">Parse the string “05-2022-08” to a date object using the helper function <code>dym()</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2022-08-05"</code></pre>
</div>
</div>
</section>
</section>
<section id="parsing-time" class="level3" data-number="14.7.2">
<h3 data-number="14.7.2" class="anchored" data-anchor-id="parsing-time"><span class="header-section-number">14.7.2</span> Parsing time</h3>
<section id="hour-minute-second" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="hour-minute-second">hour-minute-second</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-126"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-126" data-target-annotation="1">1</button><span id="annotated-cell-126-1" class="code-annotation-target"><a href="#annotated-cell-126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hms</span>(<span class="st">"12:25:35"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-126" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-126" data-code-lines="1" data-code-annotation="1">Parse the string “12:25:35” to a time object using the helper function <code>hms()</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "12H 25M 35S"</code></pre>
</div>
</div>
</section>
<section id="hour-minute" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="hour-minute">hour-minute</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-127"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-127" data-target-annotation="1">1</button><span id="annotated-cell-127-1" class="code-annotation-target"><a href="#annotated-cell-127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hm</span>(<span class="st">"05:35"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-127" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-127" data-code-lines="1" data-code-annotation="1">Parse the string “05:35” to a time object using the helper function <code>hm()</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "5H 35M 0S"</code></pre>
</div>
</div>
</section>
</section>
<section id="parsing-to-datetime" class="level3" data-number="14.7.3">
<h3 data-number="14.7.3" class="anchored" data-anchor-id="parsing-to-datetime"><span class="header-section-number">14.7.3</span> Parsing to datetime</h3>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-128"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-128" data-target-annotation="1">1</button><span id="annotated-cell-128-1" class="code-annotation-target"><a href="#annotated-cell-128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as_datetime</span>(<span class="st">"2023-09-15 12:45:00"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-128" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-128" data-code-lines="1" data-code-annotation="1">Convert the string to a date-time object.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-09-15 12:45:00 UTC"</code></pre>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd_hms</span>(<span class="st">"2023-09-15 12:45:00"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-09-15 12:45:00 UTC"</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Other helper functions for date-time
</div>
</div>
<div class="callout-body-container callout-body">
<p>Just like the date parsing helper functions, the date-time also have similar functions including the time object.</p>
</div>
</div>
</section>
<section id="extracting-components-of-a-date" class="level3" data-number="14.7.4">
<h3 data-number="14.7.4" class="anchored" data-anchor-id="extracting-components-of-a-date"><span class="header-section-number">14.7.4</span> Extracting components of a date</h3>
<p>You can extract specific components of a date-time object using functions such as the following:</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-130"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-130" data-target-annotation="1">1</button><span id="annotated-cell-130-1" class="code-annotation-target"><a href="#annotated-cell-130-1" aria-hidden="true" tabindex="-1"></a>new_date_time <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">"2023-09-15 12:45:00"</span>)</span>
<span id="annotated-cell-130-2"><a href="#annotated-cell-130-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-130-3"><a href="#annotated-cell-130-3" aria-hidden="true" tabindex="-1"></a>new_date_time</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-130" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-130" data-code-lines="1" data-code-annotation="1">Parse the string “2023-09-15 12:45:00” to a date-time object.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-09-15 12:45:00 UTC"</code></pre>
</div>
</div>
<section id="date-components" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="date-components">Date components</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-131"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-131" data-target-annotation="1">1</button><span id="annotated-cell-131-1" class="code-annotation-target"><a href="#annotated-cell-131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(new_date_time)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-131" data-target-annotation="2">2</button><span id="annotated-cell-131-2" class="code-annotation-target"><a href="#annotated-cell-131-2" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(new_date_time)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-131" data-target-annotation="3">3</button><span id="annotated-cell-131-3" class="code-annotation-target"><a href="#annotated-cell-131-3" aria-hidden="true" tabindex="-1"></a><span class="fu">day</span>(new_date_time)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-131" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-131" data-code-lines="1" data-code-annotation="1">Get the <code>Year</code> component of the <code>new_date_time</code> value.</span>
</dd>
<dt data-target-cell="annotated-cell-131" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-131" data-code-lines="2" data-code-annotation="2">Get the <code>Month</code> component of the <code>new_date_time</code> value.</span>
</dd>
<dt data-target-cell="annotated-cell-131" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-131" data-code-lines="3" data-code-annotation="3">Get the <code>Day</code> component of the <code>new_date_time</code> value.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2023
[1] 9
[1] 15</code></pre>
</div>
</div>
</section>
<section id="time-components" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="time-components">Time components</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-132"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-132" data-target-annotation="1">1</button><span id="annotated-cell-132-1" class="code-annotation-target"><a href="#annotated-cell-132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hour</span>(new_date_time)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-132" data-target-annotation="2">2</button><span id="annotated-cell-132-2" class="code-annotation-target"><a href="#annotated-cell-132-2" aria-hidden="true" tabindex="-1"></a><span class="fu">minute</span>(new_date_time)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-132" data-target-annotation="3">3</button><span id="annotated-cell-132-3" class="code-annotation-target"><a href="#annotated-cell-132-3" aria-hidden="true" tabindex="-1"></a><span class="fu">second</span>(new_date_time)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-132" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-132" data-code-lines="1" data-code-annotation="1">Get the <code>Hour</code> component of the <code>new_date_time</code> value.</span>
</dd>
<dt data-target-cell="annotated-cell-132" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-132" data-code-lines="2" data-code-annotation="2">Get the <code>Minute</code> component of the <code>new_date_time</code> value.</span>
</dd>
<dt data-target-cell="annotated-cell-132" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-132" data-code-lines="3" data-code-annotation="3">Get the <code>Second</code> component of the <code>new_date_time</code> value.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12
[1] 45
[1] 0</code></pre>
</div>
</div>
</section>
<section id="day-of-..-components" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="day-of-..-components">Day of .. components</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-133"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-133" data-target-annotation="1">1</button><span id="annotated-cell-133-1" class="code-annotation-target"><a href="#annotated-cell-133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(new_date_time)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-133" data-target-annotation="2">2</button><span id="annotated-cell-133-2" class="code-annotation-target"><a href="#annotated-cell-133-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mday</span>(new_date_time)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-133" data-target-annotation="3">3</button><span id="annotated-cell-133-3" class="code-annotation-target"><a href="#annotated-cell-133-3" aria-hidden="true" tabindex="-1"></a><span class="fu">yday</span>(new_date_time)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-133" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-133" data-code-lines="1" data-code-annotation="1">Extracts the day of the week. default (1 = Sunday, 7 = Saturday).</span>
</dd>
<dt data-target-cell="annotated-cell-133" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-133" data-code-lines="2" data-code-annotation="2">Extracts Extracts the day of the month.</span>
</dd>
<dt data-target-cell="annotated-cell-133" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-133" data-code-lines="3" data-code-annotation="3">Extracts the day of the year default (1 = January 1, 365/366 = December 31).</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6
[1] 15
[1] 258</code></pre>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="manipulating-dates" class="level3" data-number="14.7.5">
<h3 data-number="14.7.5" class="anchored" data-anchor-id="manipulating-dates"><span class="header-section-number">14.7.5</span> Manipulating dates</h3>
<p>Dates can be manipulated using arithmetic operators to add or subtract days, months, years, etc. <strong>Example:</strong></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-134"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-134" data-target-annotation="1">1</button><span id="annotated-cell-134-1" class="code-annotation-target"><a href="#annotated-cell-134-1" aria-hidden="true" tabindex="-1"></a>new_date_time <span class="sc">+</span> <span class="fu">days</span>(<span class="dv">10</span>)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-134" data-target-annotation="2">2</button><span id="annotated-cell-134-2" class="code-annotation-target"><a href="#annotated-cell-134-2" aria-hidden="true" tabindex="-1"></a>new_date_time <span class="sc">-</span> <span class="fu">months</span>(<span class="dv">2</span>)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-134" data-target-annotation="3">3</button><span id="annotated-cell-134-3" class="code-annotation-target"><a href="#annotated-cell-134-3" aria-hidden="true" tabindex="-1"></a>new_date_time <span class="sc">+</span> <span class="fu">years</span>(<span class="dv">1</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-134" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-134" data-code-lines="1" data-code-annotation="1">Adds 10 more days to <code>2023-09-15 12:45:00</code></span>
</dd>
<dt data-target-cell="annotated-cell-134" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-134" data-code-lines="2" data-code-annotation="2">Subtracts 2 months from <code>2023-09-15 12:45:00</code></span>
</dd>
<dt data-target-cell="annotated-cell-134" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-134" data-code-lines="3" data-code-annotation="3">Adds 1 year to <code>2023-09-15 12:45:00</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2023-09-25 12:45:00 UTC"
[1] "2023-07-15 12:45:00 UTC"
[1] "2024-09-15 12:45:00 UTC"</code></pre>
</div>
</div>
<p><br></p>
</section>
<section id="date-comparisons" class="level3" data-number="14.7.6">
<h3 data-number="14.7.6" class="anchored" data-anchor-id="date-comparisons"><span class="header-section-number">14.7.6</span> Date comparisons</h3>
<p>Standard comparison operators such as (==, &lt;, &gt;, !=) can be used to compare different date objects. <strong>Examples:</strong></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-135"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-135" data-target-annotation="1">1</button><span id="annotated-cell-135-1" class="code-annotation-target"><a href="#annotated-cell-135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="st">"2023-09-15"</span>) <span class="sc">==</span> <span class="fu">ymd</span>(<span class="st">"2023-09-15"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-135" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-135" data-code-lines="1" data-code-annotation="1">Compare whether <code>2023-09-15</code> is equal to <code>2023-09-15</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-136"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-136" data-target-annotation="1">1</button><span id="annotated-cell-136-1" class="code-annotation-target"><a href="#annotated-cell-136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="st">"2023-09-15"</span>) <span class="sc">&gt;</span> <span class="fu">ymd</span>(<span class="st">"2023-08-15"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-136" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-136" data-code-lines="1" data-code-annotation="1">Compare whether <code>2023-09-15</code> &gt; <code>2023-08-15</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<section id="within" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="within">Within</h4>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>R</strong></pre>
</div>
<div class="sourceCode cell-code" id="annotated-cell-137"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-137-1"><a href="#annotated-cell-137-1" aria-hidden="true" tabindex="-1"></a>new_date_inverval <span class="ot">&lt;-</span> <span class="fu">interval</span>(<span class="fu">ymd</span>(<span class="st">"2023-01-01"</span>), <span class="fu">ymd</span>(<span class="st">"2023-12-31"</span>))</span>
<span id="annotated-cell-137-2"><a href="#annotated-cell-137-2" aria-hidden="true" tabindex="-1"></a></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-137" data-target-annotation="1">1</button><span id="annotated-cell-137-3" class="code-annotation-target"><a href="#annotated-cell-137-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ymd</span>(<span class="st">"2023-09-15"</span>) <span class="sc">%within%</span> new_date_inverval</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-137" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-137" data-code-lines="3" data-code-annotation="1">Checks if the date <code>2023-09-15</code> lies within an interval <code>new_date_inverval</code>.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          trigger: 'click',
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          positionFixed: true,
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./r_operators.html" class="pagination-link" aria-label="Operators">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Operators</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./r_data_visualization.html" class="pagination-link" aria-label="Visualization">
        <span class="nav-page-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Visualization</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>